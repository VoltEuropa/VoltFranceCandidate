/*! URI.js v1.12.0 http://medialize.github.com/URI.js/ */
/* build contains: IPv6.js, punycode.js, SecondLevelDomains.js, URI.js, URI.fragmentQuery.js */
(function(e,k){"object"===typeof exports?module.exports=k():"function"===typeof define&&define.amd?define(k):e.IPv6=k(e)})(this,function(e){var k=e&&e.IPv6;return{best:function(e){e=e.toLowerCase().split(":");var k=e.length,d=8;""===e[0]&&""===e[1]&&""===e[2]?(e.shift(),e.shift()):""===e[0]&&""===e[1]?e.shift():""===e[k-1]&&""===e[k-2]&&e.pop();k=e.length;-1!==e[k-1].indexOf(".")&&(d=7);var g;for(g=0;g<k&&""!==e[g];g++);if(g<d)for(e.splice(g,1,"0000");e.length<d;)e.splice(g,0,"0000");for(g=0;g<d;g++){for(var k=
e[g].split(""),q=0;3>q;q++)if("0"===k[0]&&1<k.length)k.splice(0,1);else break;e[g]=k.join("")}var k=-1,l=q=0,r=-1,z=!1;for(g=0;g<d;g++)z?"0"===e[g]?l+=1:(z=!1,l>q&&(k=r,q=l)):"0"==e[g]&&(z=!0,r=g,l=1);l>q&&(k=r,q=l);1<q&&e.splice(k,q,"");k=e.length;d="";""===e[0]&&(beststr=":");for(g=0;g<k;g++){d+=e[g];if(g===k-1)break;d+=":"}""===e[k-1]&&(d+=":");return d},noConflict:function(){e.IPv6===this&&(e.IPv6=k);return this}}});
(function(e){function k(a){throw RangeError(p[a]);}function u(a,b){for(var c=a.length;c--;)a[c]=b(a[c]);return a}function m(a,b){return u(a.split(h),b).join(".")}function d(a){for(var b=[],c=0,d=a.length,h,p;c<d;)h=a.charCodeAt(c++),55296<=h&&56319>=h&&c<d?(p=a.charCodeAt(c++),56320==(p&64512)?b.push(((h&1023)<<10)+(p&1023)+65536):(b.push(h),c--)):b.push(h);return b}function g(a){return u(a,function(a){var b="";65535<a&&(a-=65536,b+=x(a>>>10&1023|55296),a=56320|a&1023);return b+=x(a)}).join("")}function q(a,
b){return a+22+75*(26>a)-((0!=b)<<5)}function l(a,b,c){var d=0;a=c?A(a/H):a>>1;for(a+=A(a/b);a>n*y>>1;d+=s)a=A(a/n);return A(d+(n+1)*a/(a+I))}function r(b){var c=[],d=b.length,h,p=0,e=F,f=G,n,x,q,t,m;n=b.lastIndexOf(a);0>n&&(n=0);for(x=0;x<n;++x)128<=b.charCodeAt(x)&&k("not-basic"),c.push(b.charCodeAt(x));for(n=0<n?n+1:0;n<d;){x=p;h=1;for(q=s;;q+=s){n>=d&&k("invalid-input");t=b.charCodeAt(n++);t=10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:s;(t>=s||t>A((w-p)/h))&&k("overflow");p+=t*h;m=q<=f?v:q>=f+y?y:
q-f;if(t<m)break;t=s-m;h>A(w/t)&&k("overflow");h*=t}h=c.length+1;f=l(p-x,h,0==x);A(p/h)>w-e&&k("overflow");e+=A(p/h);p%=h;c.splice(p++,0,e)}return g(c)}function z(b){var c,h,p,e,f,n,g,m,r,t=[],B,u,z;b=d(b);B=b.length;c=F;h=0;f=G;for(n=0;n<B;++n)r=b[n],128>r&&t.push(x(r));for((p=e=t.length)&&t.push(a);p<B;){g=w;for(n=0;n<B;++n)r=b[n],r>=c&&r<g&&(g=r);u=p+1;g-c>A((w-h)/u)&&k("overflow");h+=(g-c)*u;c=g;for(n=0;n<B;++n)if(r=b[n],r<c&&++h>w&&k("overflow"),r==c){m=h;for(g=s;;g+=s){r=g<=f?v:g>=f+y?y:g-f;
if(m<r)break;z=m-r;m=s-r;t.push(x(q(r+z%m,0)));m=A(z/m)}t.push(x(q(m,0)));f=l(h,u,p==e);h=0;++p}++h;++c}return t.join("")}var D="object"==typeof exports&&exports,E="object"==typeof module&&module&&module.exports==D&&module,C="object"==typeof global&&global;if(C.global===C||C.window===C)e=C;var f,w=2147483647,s=36,v=1,y=26,I=38,H=700,G=72,F=128,a="-",b=/^xn--/,c=/[^ -~]/,h=/\x2E|\u3002|\uFF0E|\uFF61/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)",
"invalid-input":"Invalid input"},n=s-v,A=Math.floor,x=String.fromCharCode,B;f={version:"1.2.3",ucs2:{decode:d,encode:g},decode:r,encode:z,toASCII:function(a){return m(a,function(a){return c.test(a)?"xn--"+z(a):a})},toUnicode:function(a){return m(a,function(a){return b.test(a)?r(a.slice(4).toLowerCase()):a})}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return f});else if(D&&!D.nodeType)if(E)E.exports=f;else for(B in f)f.hasOwnProperty(B)&&(D[B]=f[B]);else e.punycode=
f})(this);
(function(e,k){"object"===typeof exports?module.exports=k():"function"===typeof define&&define.amd?define(k):e.SecondLevelDomains=k(e)})(this,function(e){var k=e&&e.SecondLevelDomains,u=Object.prototype.hasOwnProperty,m={list:{ac:"com|gov|mil|net|org",ae:"ac|co|gov|mil|name|net|org|pro|sch",af:"com|edu|gov|net|org",al:"com|edu|gov|mil|net|org",ao:"co|ed|gv|it|og|pb",ar:"com|edu|gob|gov|int|mil|net|org|tur",at:"ac|co|gv|or",au:"asn|com|csiro|edu|gov|id|net|org",ba:"co|com|edu|gov|mil|net|org|rs|unbi|unmo|unsa|untz|unze",bb:"biz|co|com|edu|gov|info|net|org|store|tv",
bh:"biz|cc|com|edu|gov|info|net|org",bn:"com|edu|gov|net|org",bo:"com|edu|gob|gov|int|mil|net|org|tv",br:"adm|adv|agr|am|arq|art|ato|b|bio|blog|bmd|cim|cng|cnt|com|coop|ecn|edu|eng|esp|etc|eti|far|flog|fm|fnd|fot|fst|g12|ggf|gov|imb|ind|inf|jor|jus|lel|mat|med|mil|mus|net|nom|not|ntr|odo|org|ppg|pro|psc|psi|qsl|rec|slg|srv|tmp|trd|tur|tv|vet|vlog|wiki|zlg",bs:"com|edu|gov|net|org",bz:"du|et|om|ov|rg",ca:"ab|bc|mb|nb|nf|nl|ns|nt|nu|on|pe|qc|sk|yk",ck:"biz|co|edu|gen|gov|info|net|org",cn:"ac|ah|bj|com|cq|edu|fj|gd|gov|gs|gx|gz|ha|hb|he|hi|hl|hn|jl|js|jx|ln|mil|net|nm|nx|org|qh|sc|sd|sh|sn|sx|tj|tw|xj|xz|yn|zj",
co:"com|edu|gov|mil|net|nom|org",cr:"ac|c|co|ed|fi|go|or|sa",cy:"ac|biz|com|ekloges|gov|ltd|name|net|org|parliament|press|pro|tm","do":"art|com|edu|gob|gov|mil|net|org|sld|web",dz:"art|asso|com|edu|gov|net|org|pol",ec:"com|edu|fin|gov|info|med|mil|net|org|pro",eg:"com|edu|eun|gov|mil|name|net|org|sci",er:"com|edu|gov|ind|mil|net|org|rochest|w",es:"com|edu|gob|nom|org",et:"biz|com|edu|gov|info|name|net|org",fj:"ac|biz|com|info|mil|name|net|org|pro",fk:"ac|co|gov|net|nom|org",fr:"asso|com|f|gouv|nom|prd|presse|tm",
gg:"co|net|org",gh:"com|edu|gov|mil|org",gn:"ac|com|gov|net|org",gr:"com|edu|gov|mil|net|org",gt:"com|edu|gob|ind|mil|net|org",gu:"com|edu|gov|net|org",hk:"com|edu|gov|idv|net|org",id:"ac|co|go|mil|net|or|sch|web",il:"ac|co|gov|idf|k12|muni|net|org","in":"ac|co|edu|ernet|firm|gen|gov|i|ind|mil|net|nic|org|res",iq:"com|edu|gov|i|mil|net|org",ir:"ac|co|dnssec|gov|i|id|net|org|sch",it:"edu|gov",je:"co|net|org",jo:"com|edu|gov|mil|name|net|org|sch",jp:"ac|ad|co|ed|go|gr|lg|ne|or",ke:"ac|co|go|info|me|mobi|ne|or|sc",
kh:"com|edu|gov|mil|net|org|per",ki:"biz|com|de|edu|gov|info|mob|net|org|tel",km:"asso|com|coop|edu|gouv|k|medecin|mil|nom|notaires|pharmaciens|presse|tm|veterinaire",kn:"edu|gov|net|org",kr:"ac|busan|chungbuk|chungnam|co|daegu|daejeon|es|gangwon|go|gwangju|gyeongbuk|gyeonggi|gyeongnam|hs|incheon|jeju|jeonbuk|jeonnam|k|kg|mil|ms|ne|or|pe|re|sc|seoul|ulsan",kw:"com|edu|gov|net|org",ky:"com|edu|gov|net|org",kz:"com|edu|gov|mil|net|org",lb:"com|edu|gov|net|org",lk:"assn|com|edu|gov|grp|hotel|int|ltd|net|ngo|org|sch|soc|web",
lr:"com|edu|gov|net|org",lv:"asn|com|conf|edu|gov|id|mil|net|org",ly:"com|edu|gov|id|med|net|org|plc|sch",ma:"ac|co|gov|m|net|org|press",mc:"asso|tm",me:"ac|co|edu|gov|its|net|org|priv",mg:"com|edu|gov|mil|nom|org|prd|tm",mk:"com|edu|gov|inf|name|net|org|pro",ml:"com|edu|gov|net|org|presse",mn:"edu|gov|org",mo:"com|edu|gov|net|org",mt:"com|edu|gov|net|org",mv:"aero|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro",mw:"ac|co|com|coop|edu|gov|int|museum|net|org",mx:"com|edu|gob|net|org",my:"com|edu|gov|mil|name|net|org|sch",
nf:"arts|com|firm|info|net|other|per|rec|store|web",ng:"biz|com|edu|gov|mil|mobi|name|net|org|sch",ni:"ac|co|com|edu|gob|mil|net|nom|org",np:"com|edu|gov|mil|net|org",nr:"biz|com|edu|gov|info|net|org",om:"ac|biz|co|com|edu|gov|med|mil|museum|net|org|pro|sch",pe:"com|edu|gob|mil|net|nom|org|sld",ph:"com|edu|gov|i|mil|net|ngo|org",pk:"biz|com|edu|fam|gob|gok|gon|gop|gos|gov|net|org|web",pl:"art|bialystok|biz|com|edu|gda|gdansk|gorzow|gov|info|katowice|krakow|lodz|lublin|mil|net|ngo|olsztyn|org|poznan|pwr|radom|slupsk|szczecin|torun|warszawa|waw|wroc|wroclaw|zgora",
pr:"ac|biz|com|edu|est|gov|info|isla|name|net|org|pro|prof",ps:"com|edu|gov|net|org|plo|sec",pw:"belau|co|ed|go|ne|or",ro:"arts|com|firm|info|nom|nt|org|rec|store|tm|www",rs:"ac|co|edu|gov|in|org",sb:"com|edu|gov|net|org",sc:"com|edu|gov|net|org",sh:"co|com|edu|gov|net|nom|org",sl:"com|edu|gov|net|org",st:"co|com|consulado|edu|embaixada|gov|mil|net|org|principe|saotome|store",sv:"com|edu|gob|org|red",sz:"ac|co|org",tr:"av|bbs|bel|biz|com|dr|edu|gen|gov|info|k12|name|net|org|pol|tel|tsk|tv|web",tt:"aero|biz|cat|co|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel",
tw:"club|com|ebiz|edu|game|gov|idv|mil|net|org",mu:"ac|co|com|gov|net|or|org",mz:"ac|co|edu|gov|org",na:"co|com",nz:"ac|co|cri|geek|gen|govt|health|iwi|maori|mil|net|org|parliament|school",pa:"abo|ac|com|edu|gob|ing|med|net|nom|org|sld",pt:"com|edu|gov|int|net|nome|org|publ",py:"com|edu|gov|mil|net|org",qa:"com|edu|gov|mil|net|org",re:"asso|com|nom",ru:"ac|adygeya|altai|amur|arkhangelsk|astrakhan|bashkiria|belgorod|bir|bryansk|buryatia|cbg|chel|chelyabinsk|chita|chukotka|chuvashia|com|dagestan|e-burg|edu|gov|grozny|int|irkutsk|ivanovo|izhevsk|jar|joshkar-ola|kalmykia|kaluga|kamchatka|karelia|kazan|kchr|kemerovo|khabarovsk|khakassia|khv|kirov|koenig|komi|kostroma|kranoyarsk|kuban|kurgan|kursk|lipetsk|magadan|mari|mari-el|marine|mil|mordovia|mosreg|msk|murmansk|nalchik|net|nnov|nov|novosibirsk|nsk|omsk|orenburg|org|oryol|penza|perm|pp|pskov|ptz|rnd|ryazan|sakhalin|samara|saratov|simbirsk|smolensk|spb|stavropol|stv|surgut|tambov|tatarstan|tom|tomsk|tsaritsyn|tsk|tula|tuva|tver|tyumen|udm|udmurtia|ulan-ude|vladikavkaz|vladimir|vladivostok|volgograd|vologda|voronezh|vrn|vyatka|yakutia|yamal|yekaterinburg|yuzhno-sakhalinsk",
rw:"ac|co|com|edu|gouv|gov|int|mil|net",sa:"com|edu|gov|med|net|org|pub|sch",sd:"com|edu|gov|info|med|net|org|tv",se:"a|ac|b|bd|c|d|e|f|g|h|i|k|l|m|n|o|org|p|parti|pp|press|r|s|t|tm|u|w|x|y|z",sg:"com|edu|gov|idn|net|org|per",sn:"art|com|edu|gouv|org|perso|univ",sy:"com|edu|gov|mil|net|news|org",th:"ac|co|go|in|mi|net|or",tj:"ac|biz|co|com|edu|go|gov|info|int|mil|name|net|nic|org|test|web",tn:"agrinet|com|defense|edunet|ens|fin|gov|ind|info|intl|mincom|nat|net|org|perso|rnrt|rns|rnu|tourism",tz:"ac|co|go|ne|or",
ua:"biz|cherkassy|chernigov|chernovtsy|ck|cn|co|com|crimea|cv|dn|dnepropetrovsk|donetsk|dp|edu|gov|if|in|ivano-frankivsk|kh|kharkov|kherson|khmelnitskiy|kiev|kirovograd|km|kr|ks|kv|lg|lugansk|lutsk|lviv|me|mk|net|nikolaev|od|odessa|org|pl|poltava|pp|rovno|rv|sebastopol|sumy|te|ternopil|uzhgorod|vinnica|vn|zaporizhzhe|zhitomir|zp|zt",ug:"ac|co|go|ne|or|org|sc",uk:"ac|bl|british-library|co|cym|gov|govt|icnet|jet|lea|ltd|me|mil|mod|national-library-scotland|nel|net|nhs|nic|nls|org|orgn|parliament|plc|police|sch|scot|soc",
us:"dni|fed|isa|kids|nsn",uy:"com|edu|gub|mil|net|org",ve:"co|com|edu|gob|info|mil|net|org|web",vi:"co|com|k12|net|org",vn:"ac|biz|com|edu|gov|health|info|int|name|net|org|pro",ye:"co|com|gov|ltd|me|net|org|plc",yu:"ac|co|edu|gov|org",za:"ac|agric|alt|bourse|city|co|cybernet|db|edu|gov|grondar|iaccess|imt|inca|landesign|law|mil|net|ngo|nis|nom|olivetti|org|pix|school|tm|web",zm:"ac|co|com|edu|gov|net|org|sch"},has_expression:null,is_expression:null,has:function(d){return!!d.match(m.has_expression)},
is:function(d){return!!d.match(m.is_expression)},get:function(d){return(d=d.match(m.has_expression))&&d[1]||null},noConflict:function(){e.SecondLevelDomains===this&&(e.SecondLevelDomains=k);return this},init:function(){var d="",e;for(e in m.list)u.call(m.list,e)&&(d+="|("+("("+m.list[e]+")."+e)+")");m.has_expression=RegExp("\\.("+d.substr(1)+")$","i");m.is_expression=RegExp("^("+d.substr(1)+")$","i")}};m.init();return m});
(function(e,k){"object"===typeof exports?module.exports=k(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],k):e.URI=k(e.punycode,e.IPv6,e.SecondLevelDomains,e)})(this,function(e,k,u,m){function d(a,b){if(!(this instanceof d))return new d(a,b);void 0===a&&(a="undefined"!==typeof location?location.href+"":"");this.href(a);return void 0!==b?this.absoluteTo(b):this}function g(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,
"\\$1")}function q(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function l(a){return"Array"===q(a)}function r(a,b){var c,d;if(l(b)){c=0;for(d=b.length;c<d;c++)if(!r(a,b[c]))return!1;return!0}var p=q(b);c=0;for(d=a.length;c<d;c++)if("RegExp"===p){if("string"===typeof a[c]&&a[c].match(b))return!0}else if(a[c]===b)return!0;return!1}function z(a,b){if(!l(a)||!l(b)||a.length!==b.length)return!1;a.sort();b.sort();for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;
return!0}function D(a){return escape(a)}function E(a){return encodeURIComponent(a).replace(/[!'()*]/g,D).replace(/\*/g,"%2A")}var C=m&&m.URI;d.version="1.12.0";var f=d.prototype,w=Object.prototype.hasOwnProperty;d._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:d.duplicateQueryParameters,escapeQuerySpace:d.escapeQuerySpace}};d.duplicateQueryParameters=!1;d.escapeQuerySpace=!0;d.protocol_expression=
/^[a-z][a-z0-9.+-]*$/i;d.idn_expression=/[^a-z0-9\.-]/i;d.punycode_expression=/(xn--)/i;d.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;d.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
d.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;d.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};d.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};d.invalid_hostname_characters=
/[^a-zA-Z0-9\.-]/;d.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"};d.getDomAttribute=function(a){if(a&&a.nodeName){var b=a.nodeName.toLowerCase();return"input"===b&&"image"!==a.type?void 0:d.domAttributes[b]}};d.encode=E;d.decode=decodeURIComponent;d.iso8859=function(){d.encode=escape;d.decode=unescape};d.unicode=function(){d.encode=E;d.decode=decodeURIComponent};d.characters=
{pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};d.encodeQuery=
function(a,b){var c=d.encode(a+"");return b?c.replace(/%20/g,"+"):c};d.decodeQuery=function(a,b){a+="";try{return d.decode(b?a.replace(/\+/g,"%20"):a)}catch(c){return a}};d.recodePath=function(a){a=(a+"").split("/");for(var b=0,c=a.length;b<c;b++)a[b]=d.encodePathSegment(d.decode(a[b]));return a.join("/")};d.decodePath=function(a){a=(a+"").split("/");for(var b=0,c=a.length;b<c;b++)a[b]=d.decodePathSegment(a[b]);return a.join("/")};var s={encode:"encode",decode:"decode"},v,y=function(a,b){return function(c){return d[b](c+
"").replace(d.characters[a][b].expression,function(c){return d.characters[a][b].map[c]})}};for(v in s)d[v+"PathSegment"]=y("pathname",s[v]);d.encodeReserved=y("reserved","encode");d.parse=function(a,b){var c;b||(b={});c=a.indexOf("#");-1<c&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c));c=a.indexOf("?");-1<c&&(b.query=a.substring(c+1)||null,a=a.substring(0,c));"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=d.parseAuthority(a,b)):(c=a.indexOf(":"),-1<c&&(b.protocol=a.substring(0,
c)||null,b.protocol&&!b.protocol.match(d.protocol_expression)?b.protocol=void 0:"file"===b.protocol?a=a.substring(c+3):"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=d.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0)));b.path=a;return b};d.parseHost=function(a,b){var c=a.indexOf("/"),d;-1===c&&(c=a.length);"["===a.charAt(0)?(d=a.indexOf("]"),b.hostname=a.substring(1,d)||null,b.port=a.substring(d+2,c)||null):a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,c)||null,b.port=null):(d=
a.substring(0,c).split(":"),b.hostname=d[0]||null,b.port=d[1]||null);b.hostname&&"/"!==a.substring(c).charAt(0)&&(c++,a="/"+a);return a.substring(c)||"/"};d.parseAuthority=function(a,b){a=d.parseUserinfo(a,b);return d.parseHost(a,b)};d.parseUserinfo=function(a,b){var c=a.indexOf("/"),h=-1<c?a.lastIndexOf("@",c):a.indexOf("@");-1<h&&(-1===c||h<c)?(c=a.substring(0,h).split(":"),b.username=c[0]?d.decode(c[0]):null,c.shift(),b.password=c[0]?d.decode(c.join(":")):null,a=a.substring(h+1)):(b.username=null,
b.password=null);return a};d.parseQuery=function(a,b){if(!a)return{};a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!a)return{};for(var c={},h=a.split("&"),p=h.length,n,e,f=0;f<p;f++)n=h[f].split("="),e=d.decodeQuery(n.shift(),b),n=n.length?d.decodeQuery(n.join("="),b):null,c[e]?("string"===typeof c[e]&&(c[e]=[c[e]]),c[e].push(n)):c[e]=n;return c};d.build=function(a){var b="";a.protocol&&(b+=a.protocol+":");a.urn||!b&&!a.hostname||(b+="//");b+=d.buildAuthority(a)||"";"string"===typeof a.path&&
("/"!==a.path.charAt(0)&&"string"===typeof a.hostname&&(b+="/"),b+=a.path);"string"===typeof a.query&&a.query&&(b+="?"+a.query);"string"===typeof a.fragment&&a.fragment&&(b+="#"+a.fragment);return b};d.buildHost=function(a){var b="";if(a.hostname)d.ip6_expression.test(a.hostname)?b=a.port?b+("["+a.hostname+"]:"+a.port):b+a.hostname:(b+=a.hostname,a.port&&(b+=":"+a.port));else return"";return b};d.buildAuthority=function(a){return d.buildUserinfo(a)+d.buildHost(a)};d.buildUserinfo=function(a){var b=
"";a.username&&(b+=d.encode(a.username),a.password&&(b+=":"+d.encode(a.password)),b+="@");return b};d.buildQuery=function(a,b,c){var h="",p,e,f,k;for(e in a)if(w.call(a,e)&&e)if(l(a[e]))for(p={},f=0,k=a[e].length;f<k;f++)void 0!==a[e][f]&&void 0===p[a[e][f]+""]&&(h+="&"+d.buildQueryParameter(e,a[e][f],c),!0!==b&&(p[a[e][f]+""]=!0));else void 0!==a[e]&&(h+="&"+d.buildQueryParameter(e,a[e],c));return h.substring(1)};d.buildQueryParameter=function(a,b,c){return d.encodeQuery(a,c)+(null!==b?"="+d.encodeQuery(b,
c):"")};d.addQuery=function(a,b,c){if("object"===typeof b)for(var h in b)w.call(b,h)&&d.addQuery(a,h,b[h]);else if("string"===typeof b)void 0===a[b]?a[b]=c:("string"===typeof a[b]&&(a[b]=[a[b]]),l(c)||(c=[c]),a[b]=a[b].concat(c));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");};d.removeQuery=function(a,b,c){var h;if(l(b))for(c=0,h=b.length;c<h;c++)a[b[c]]=void 0;else if("object"===typeof b)for(h in b)w.call(b,h)&&d.removeQuery(a,h,b[h]);else if("string"===
typeof b)if(void 0!==c)if(a[b]===c)a[b]=void 0;else{if(l(a[b])){h=a[b];var p={},e,f;if(l(c))for(e=0,f=c.length;e<f;e++)p[c[e]]=!0;else p[c]=!0;e=0;for(f=h.length;e<f;e++)void 0!==p[h[e]]&&(h.splice(e,1),f--,e--);a[b]=h}}else a[b]=void 0;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");};d.hasQuery=function(a,b,c,h){if("object"===typeof b){for(var e in b)if(w.call(b,e)&&!d.hasQuery(a,e,b[e]))return!1;return!0}if("string"!==typeof b)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");
switch(q(c)){case "Undefined":return b in a;case "Boolean":return a=Boolean(l(a[b])?a[b].length:a[b]),c===a;case "Function":return!!c(a[b],b,a);case "Array":return l(a[b])?(h?r:z)(a[b],c):!1;case "RegExp":return l(a[b])?h?r(a[b],c):!1:Boolean(a[b]&&a[b].match(c));case "Number":c=String(c);case "String":return l(a[b])?h?r(a[b],c):!1:a[b]===c;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");}};d.commonPath=function(a,b){var c=
Math.min(a.length,b.length),d;for(d=0;d<c;d++)if(a.charAt(d)!==b.charAt(d)){d--;break}if(1>d)return a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"";if("/"!==a.charAt(d)||"/"!==b.charAt(d))d=a.substring(0,d).lastIndexOf("/");return a.substring(0,d+1)};d.withinString=function(a,b,c){c||(c={});var h=c.start||d.findUri.start,e=c.end||d.findUri.end,f=c.trim||d.findUri.trim,k=/[a-z0-9-]=["']?$/i;for(h.lastIndex=0;;){var g=h.exec(a);if(!g)break;g=g.index;if(c.ignoreHtml){var l=a.slice(Math.max(g-3,0),
g);if(l&&k.test(l))continue}var l=g+a.slice(g).search(e),q=a.slice(g,l).replace(f,"");c.ignore&&c.ignore.test(q)||(l=g+q.length,q=b(q,g,l,a),a=a.slice(0,g)+q+a.slice(l),h.lastIndex=g+q.length)}h.lastIndex=0;return a};d.ensureValidHostname=function(a){if(a.match(d.invalid_hostname_characters)){if(!e)throw new TypeError("Hostname '"+a+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(e.toASCII(a).match(d.invalid_hostname_characters))throw new TypeError("Hostname '"+
a+"' contains characters other than [A-Z0-9.-]");}};d.noConflict=function(a){if(a)return a={URI:this.noConflict()},URITemplate&&"function"==typeof URITemplate.noConflict&&(a.URITemplate=URITemplate.noConflict()),k&&"function"==typeof k.noConflict&&(a.IPv6=k.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(a.SecondLevelDomains=SecondLevelDomains.noConflict()),a;m.URI===this&&(m.URI=C);return this};f.build=function(a){if(!0===a)this._deferred_build=!0;else if(void 0===
a||this._deferred_build)this._string=d.build(this._parts),this._deferred_build=!1;return this};f.clone=function(){return new d(this)};f.valueOf=f.toString=function(){return this.build(!1)._string};s={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"};y=function(a){return function(b,c){if(void 0===b)return this._parts[a]||"";this._parts[a]=b||null;this.build(!c);return this}};for(v in s)f[v]=y(s[v]);s={query:"?",fragment:"#"};y=function(a,b){return function(c,
d){if(void 0===c)return this._parts[a]||"";null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1)));this._parts[a]=c;this.build(!d);return this}};for(v in s)f[v]=y(v,s[v]);s={search:["?","query"],hash:["#","fragment"]};y=function(a,b){return function(c,d){var e=this[a](c,d);return"string"===typeof e&&e.length?b+e:e}};for(v in s)f[v]=y(s[v][1],s[v][0]);f.pathname=function(a,b){if(void 0===a||!0===a){var c=this._parts.path||(this._parts.hostname?"/":"");return a?d.decodePath(c):c}this._parts.path=a?d.recodePath(a):
"/";this.build(!b);return this};f.path=f.pathname;f.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="";this._parts=d._parts();var h=a instanceof d,e="object"===typeof a&&(a.hostname||a.path||a.pathname);a.nodeName&&(e=d.getDomAttribute(a),a=a[e]||"",e=!1);!h&&e&&void 0!==a.pathname&&(a=a.toString());if("string"===typeof a)this._parts=d.parse(a,this._parts);else if(h||e)for(c in h=h?a._parts:a,h)w.call(this._parts,c)&&(this._parts[c]=h[c]);else throw new TypeError("invalid input");
this.build(!b);return this};f.is=function(a){var b=!1,c=!1,h=!1,e=!1,f=!1,g=!1,k=!1,l=!this._parts.urn;this._parts.hostname&&(l=!1,c=d.ip4_expression.test(this._parts.hostname),h=d.ip6_expression.test(this._parts.hostname),b=c||h,f=(e=!b)&&u&&u.has(this._parts.hostname),g=e&&d.idn_expression.test(this._parts.hostname),k=e&&d.punycode_expression.test(this._parts.hostname));switch(a.toLowerCase()){case "relative":return l;case "absolute":return!l;case "domain":case "name":return e;case "sld":return f;
case "ip":return b;case "ip4":case "ipv4":case "inet4":return c;case "ip6":case "ipv6":case "inet6":return h;case "idn":return g;case "url":return!this._parts.urn;case "urn":return!!this._parts.urn;case "punycode":return k}return null};var I=f.protocol,H=f.port,G=f.hostname;f.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(d.protocol_expression)))throw new TypeError("Protocol '"+a+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return I.call(this,
a,b)};f.scheme=f.protocol;f.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError("Port '"+a+"' contains characters other than [0-9]");return H.call(this,a,b)};f.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={};d.parseHost(a,c);a=c.hostname}return G.call(this,a,b)};f.host=function(a,b){if(this._parts.urn)return void 0===a?"":this;
if(void 0===a)return this._parts.hostname?d.buildHost(this._parts):"";d.parseHost(a,this._parts);this.build(!b);return this};f.authority=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?d.buildAuthority(this._parts):"";d.parseAuthority(a,this._parts);this.build(!b);return this};f.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var c=d.buildUserinfo(this._parts);return c.substring(0,
c.length-1)}"@"!==a[a.length-1]&&(a+="@");d.parseUserinfo(a,this._parts);this.build(!b);return this};f.resource=function(a,b){var c;if(void 0===a)return this.path()+this.search()+this.hash();c=d.parse(a);this._parts.path=c.path;this._parts.query=c.query;this._parts.fragment=c.fragment;this.build(!b);return this};f.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.length-this.domain().length-
1;return this._parts.hostname.substring(0,c)||""}c=this._parts.hostname.length-this.domain().length;c=this._parts.hostname.substring(0,c);c=RegExp("^"+g(c));a&&"."!==a.charAt(a.length-1)&&(a+=".");a&&d.ensureValidHostname(a);this._parts.hostname=this._parts.hostname.replace(c,a);this.build(!b);return this};f.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.match(/\./g);
if(c&&2>c.length)return this._parts.hostname;c=this._parts.hostname.length-this.tld(b).length-1;c=this._parts.hostname.lastIndexOf(".",c-1)+1;return this._parts.hostname.substring(c)||""}if(!a)throw new TypeError("cannot set domain empty");d.ensureValidHostname(a);!this._parts.hostname||this.is("IP")?this._parts.hostname=a:(c=RegExp(g(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(c,a));this.build(!b);return this};f.tld=function(a,b){if(this._parts.urn)return void 0===a?"":
this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.lastIndexOf("."),c=this._parts.hostname.substring(c+1);return!0!==b&&u&&u.list[c.toLowerCase()]?u.get(this._parts.hostname)||c:c}if(a)if(a.match(/[^a-zA-Z0-9-]/))if(u&&u.is(a))c=RegExp(g(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(c,a);else throw new TypeError("TLD '"+a+"' contains characters other than [A-Z0-9]");else{if(!this._parts.hostname||
this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");c=RegExp(g(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(c,a)}else throw new TypeError("cannot set TLD empty");this.build(!b);return this};f.directory=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var c=this._parts.path.length-this.filename().length-1,c=this._parts.path.substring(0,
c)||(this._parts.hostname?"/":"");return a?d.decodePath(c):c}c=this._parts.path.length-this.filename().length;c=this._parts.path.substring(0,c);c=RegExp("^"+g(c));this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a));a&&"/"!==a.charAt(a.length-1)&&(a+="/");a=d.recodePath(a);this._parts.path=this._parts.path.replace(c,a);this.build(!b);return this};f.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";
var c=this._parts.path.lastIndexOf("/"),c=this._parts.path.substring(c+1);return a?d.decodePathSegment(c):c}c=!1;"/"===a.charAt(0)&&(a=a.substring(1));a.match(/\.?\//)&&(c=!0);var h=RegExp(g(this.filename())+"$");a=d.recodePath(a);this._parts.path=this._parts.path.replace(h,a);c?this.normalizePath(b):this.build(!b);return this};f.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c=this.filename(),h=c.lastIndexOf(".");
if(-1===h)return"";c=c.substring(h+1);c=/^[a-z0-9%]+$/i.test(c)?c:"";return a?d.decodePathSegment(c):c}"."===a.charAt(0)&&(a=a.substring(1));if(c=this.suffix())h=a?RegExp(g(c)+"$"):RegExp(g("."+c)+"$");else{if(!a)return this;this._parts.path+="."+d.recodePath(a)}h&&(a=d.recodePath(a),this._parts.path=this._parts.path.replace(h,a));this.build(!b);return this};f.segment=function(a,b,c){var d=this._parts.urn?":":"/",e=this.path(),f="/"===e.substring(0,1),e=e.split(d);void 0!==a&&"number"!==typeof a&&
(c=b,b=a,a=void 0);if(void 0!==a&&"number"!==typeof a)throw Error("Bad segment '"+a+"', must be 0-based integer");f&&e.shift();0>a&&(a=Math.max(e.length+a,0));if(void 0===b)return void 0===a?e:e[a];if(null===a||void 0===e[a])if(l(b)){e=[];a=0;for(var g=b.length;a<g;a++)if(b[a].length||e.length&&e[e.length-1].length)e.length&&!e[e.length-1].length&&e.pop(),e.push(b[a])}else{if(b||"string"===typeof b)""===e[e.length-1]?e[e.length-1]=b:e.push(b)}else b||"string"===typeof b&&b.length?e[a]=b:e.splice(a,
1);f&&e.unshift("");return this.path(e.join(d),c)};f.segmentCoded=function(a,b,c){var e,f;"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0===b){a=this.segment(a,b,c);if(l(a))for(e=0,f=a.length;e<f;e++)a[e]=d.decode(a[e]);else a=void 0!==a?d.decode(a):void 0;return a}if(l(b))for(e=0,f=b.length;e<f;e++)b[e]=d.decode(b[e]);else b="string"===typeof b?d.encode(b):b;return this.segment(a,b,c)};var F=f.query;f.query=function(a,b){if(!0===a)return d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);
if("function"===typeof a){var c=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace),e=a.call(this,c);this._parts.query=d.buildQuery(e||c,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!b);return this}return void 0!==a&&"string"!==typeof a?(this._parts.query=d.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):F.call(this,a,b)};f.setQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);
if("object"===typeof a)for(var f in a)w.call(a,f)&&(e[f]=a[f]);else if("string"===typeof a)e[a]=void 0!==b?b:null;else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};f.addQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);d.addQuery(e,a,void 0===b?null:b);this._parts.query=
d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};f.removeQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);d.removeQuery(e,a,b);this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};f.hasQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);
return d.hasQuery(e,a,b,c)};f.setSearch=f.setQuery;f.addSearch=f.addQuery;f.removeSearch=f.removeQuery;f.hasSearch=f.hasQuery;f.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};f.normalizeProtocol=function(a){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),
this.build(!a));return this};f.normalizeHostname=function(a){this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&k&&(this._parts.hostname=k.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!a));return this};f.normalizePort=function(a){"string"===typeof this._parts.protocol&&this._parts.port===d.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a));return this};f.normalizePath=
function(a){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var b,c=this._parts.path,e="",f,g;"/"!==c.charAt(0)&&(b=!0,c="/"+c);c=c.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");b&&(e=c.substring(1).match(/^(\.\.\/)+/)||"")&&(e=e[0]);for(;;){f=c.indexOf("/..");if(-1===f)break;else if(0===f){c=c.substring(3);continue}g=c.substring(0,f).lastIndexOf("/");-1===g&&(g=f);c=c.substring(0,g)+c.substring(f+3)}b&&this.is("relative")&&(c=e+c.substring(1));c=d.recodePath(c);
this._parts.path=c;this.build(!a);return this};f.normalizePathname=f.normalizePath;f.normalizeQuery=function(a){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(d.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a));return this};f.normalizeFragment=function(a){this._parts.fragment||(this._parts.fragment=null,this.build(!a));return this};f.normalizeSearch=f.normalizeQuery;f.normalizeHash=f.normalizeFragment;f.iso8859=function(){var a=
d.encode,b=d.decode;d.encode=escape;d.decode=decodeURIComponent;this.normalize();d.encode=a;d.decode=b;return this};f.unicode=function(){var a=d.encode,b=d.decode;d.encode=E;d.decode=unescape;this.normalize();d.encode=a;d.decode=b;return this};f.readable=function(){var a=this.clone();a.username("").password("").normalize();var b="";a._parts.protocol&&(b+=a._parts.protocol+"://");a._parts.hostname&&(a.is("punycode")&&e?(b+=e.toUnicode(a._parts.hostname),a._parts.port&&(b+=":"+a._parts.port)):b+=a.host());
a._parts.hostname&&a._parts.path&&"/"!==a._parts.path.charAt(0)&&(b+="/");b+=a.path(!0);if(a._parts.query){for(var c="",f=0,g=a._parts.query.split("&"),k=g.length;f<k;f++){var l=(g[f]||"").split("="),c=c+("&"+d.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==l[1]&&(c+="="+d.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}b+="?"+c.substring(1)}return b+=d.decodeQuery(a.hash(),!0)};f.absoluteTo=function(a){var b=this.clone(),c=["protocol","username",
"password","hostname","port"],e,f;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a instanceof d||(a=new d(a));b._parts.protocol||(b._parts.protocol=a._parts.protocol);if(this._parts.hostname)return b;for(e=0;f=c[e];e++)b._parts[f]=a._parts[f];b._parts.path?".."===b._parts.path.substring(-2)&&(b._parts.path+="/"):(b._parts.path=a._parts.path,b._parts.query||(b._parts.query=a._parts.query));"/"!==b.path().charAt(0)&&(a=a.directory(),b._parts.path=(a?
a+"/":"")+b._parts.path,b.normalizePath());b.build();return b};f.relativeTo=function(a){var b=this.clone().normalize(),c,e,f,g;if(b._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a=(new d(a)).normalize();c=b._parts;e=a._parts;f=b.path();g=a.path();if("/"!==f.charAt(0))throw Error("URI is already relative");if("/"!==g.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");c.protocol===e.protocol&&(c.protocol=null);if(c.username===
e.username&&c.password===e.password&&null===c.protocol&&null===c.username&&null===c.password&&c.hostname===e.hostname&&c.port===e.port)c.hostname=null,c.port=null;else return b.build();if(f===g)return c.path="",b.build();a=d.commonPath(b.path(),a.path());if(!a)return b.build();e=e.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");c.path=e+c.path.substring(a.length);return b.build()};f.equals=function(a){var b=this.clone();a=new d(a);var c={},e={},f={},g;b.normalize();a.normalize();
if(b.toString()===a.toString())return!0;c=b.query();e=a.query();b.query("");a.query("");if(b.toString()!==a.toString()||c.length!==e.length)return!1;c=d.parseQuery(c,this._parts.escapeQuerySpace);e=d.parseQuery(e,this._parts.escapeQuerySpace);for(g in c)if(w.call(c,g)){if(!l(c[g])){if(c[g]!==e[g])return!1}else if(!z(c[g],e[g]))return!1;f[g]=!0}for(g in e)if(w.call(e,g)&&!f[g])return!1;return!0};f.duplicateQueryParameters=function(a){this._parts.duplicateQueryParameters=!!a;return this};f.escapeQuerySpace=
function(a){this._parts.escapeQuerySpace=!!a;return this};return d});
(function(e,k){"object"===typeof exports?module.exports=k(require("./URI")):"function"===typeof define&&define.amd?define(["./URI"],k):k(e.URI)})(this,function(e){var k=e.prototype,u=k.fragment;e.fragmentPrefix="?";var m=e._parts;e._parts=function(){var d=m();d.fragmentPrefix=e.fragmentPrefix;return d};k.fragmentPrefix=function(d){this._parts.fragmentPrefix=d;return this};k.fragment=function(d,g){var k=this._parts.fragmentPrefix,l=this._parts.fragment||"";return!0===d?l.substring(0,k.length)!==k?
{}:e.parseQuery(l.substring(k.length)):void 0!==d&&"string"!==typeof d?(this._parts.fragment=k+e.buildQuery(d),this.build(!g),this):u.call(this,d,g)};k.addFragment=function(d,g,k){var l=this._parts.fragmentPrefix,m=e.parseQuery((this._parts.fragment||"").substring(l.length));e.addQuery(m,d,g);this._parts.fragment=l+e.buildQuery(m);"string"!==typeof d&&(k=g);this.build(!k);return this};k.removeFragment=function(d,g,k){var l=this._parts.fragmentPrefix,m=e.parseQuery((this._parts.fragment||"").substring(l.length));
e.removeQuery(m,d,g);this._parts.fragment=l+e.buildQuery(m);"string"!==typeof d&&(k=g);this.build(!k);return this};k.addHash=k.addFragment;k.removeHash=k.removeFragment;return{}});
/*global unescape, module, define, window, global*/

/** 
  * JIO by www.nexedi.com
  * 
  * JIO is free software licensed under GPLv3+ with additional permission
  * to link, combine and redistribute it with other free or open source software.
  *
  * Please see https://www.nexedi.com/licensing for rationale and options.
  * 
  * https://lab.nexedi.com/nexedi/jio/raw/master/dist/jio-latest.js
  *
  * CUSTOM VERSION: removed unneeded storages, added Volt Storage
  * 
  **/
!function(t){"use strict";var l=function(){function t(t){this.options=t}return t.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},t}(),f=function(){function r(t){return"function"==typeof Object.freeze?function(t){if("object"!=typeof t||null===t)return t;var e,n;for(n in Object.freeze(t),t)t.hasOwnProperty(n)&&("object"!=typeof(e=t[n])||e instanceof RegExp||r(e));return t}(t):t}return{isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},isString:function(t){return"[object String]"===Object.prototype.toString.apply(t)},isNumber:function(t){return"[object Number]"===Object.prototype.toString.apply(t)},isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.apply(t)},join:function(t,e){var n,r="",o=!0;for(n=0;n<t.length;n+=1)o?o=!1:r+=e,r+=t[n];return r},map:function(t,e){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n},filter:function(t,e){for(var n=[],r=0;r<t.length;r+=1)e(t[r])&&n.push(t[r]);return n},deepFreeze:r}}(),_=function(){function e(t){return"0"<=t&&t<="9"}return{isAlpha:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"},isDigit:e,isHexDigit:function(t){return e(t)||"a"<=t&&t<="f"||"A"<=t&&t<="F"}}}(),d=function(){var i=function(t){return unescape(encodeURIComponent(t))},s=function(t){return t<=127?1:194<=t&&t<=223?2:224<=t&&t<=239?3:240<=t&&t<=244?4:0},a=function(t){return 128<=t&&t<=191};function u(t,e){return"%"===t.charAt(e)&&_.isHexDigit(t.charAt(e+1))&&_.isHexDigit(t.charAt(e+2))}function c(t,e){return parseInt(t.substr(e,2),16)}return{encodeCharacter:function(t){var e,n,r="",o=i(t);for(n=0;n<o.length;n+=1)r+="%"+((e=o.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},isPctEncoded:function(t){if(!u(t,0))return!1;var e=c(t,1),n=s(e);if(0===n)return!1;for(var r=1;r<n;r+=1)if(!u(t,3*r)||!a(c(t,3*r+1)))return!1;return!0},pctCharAt:function(t,e){var n=t.charAt(e);if(!u(t,e))return n;var r=c(t,e+1),o=s(r);if(0===o)return n;for(var i=1;i<o;i+=1)if(!u(t,e+3*i)||!a(c(t,e+3*i+1)))return n;return t.substr(e,3*o)}}}(),p={isVarchar:function(t){return _.isAlpha(t)||_.isDigit(t)||"_"===t||d.isPctEncoded(t)},isUnreserved:function(t){return _.isAlpha(t)||_.isDigit(t)||"-"===t||"."===t||"_"===t||"~"===t},isReserved:function(t){return":"===t||"/"===t||"?"===t||"#"===t||"["===t||"]"===t||"@"===t||"!"===t||"$"===t||"&"===t||"("===t||")"===t||"*"===t||"+"===t||","===t||";"===t||"="===t||"'"===t}},m=function(){function e(t,e){var n,r="",o="";for("number"!=typeof t&&"boolean"!=typeof t||(t=t.toString()),n=0;n<t.length;n+=o.length)o=t.charAt(n),r+=p.isUnreserved(o)||e&&p.isReserved(o)?o:d.encodeCharacter(o);return r}return{encode:e,encodePassReserved:function(t){return e(t,!0)},encodeLiteral:function(t){var e,n="",r="";for(e=0;e<t.length;e+=r.length)1<(r=d.pctCharAt(t,e)).length?n+=r:n+=p.isReserved(r)||p.isUnreserved(r)?r:d.encodeCharacter(r);return n},encodeLiteralCharacter:function(t,e){var n=d.pctCharAt(t,e);return 1<n.length?n:p.isReserved(n)||p.isUnreserved(n)?n:d.encodeCharacter(n)}}}(),y=function(){var e={};function t(t){e[t]={symbol:t,separator:"?"===t?"&":""===t||"+"===t||"#"===t?",":t,named:";"===t||"&"===t||"?"===t,ifEmpty:"&"===t||"?"===t?"=":"",first:"+"===t?"":t,encode:"+"===t||"#"===t?m.encodePassReserved:m.encode,toString:function(){return this.symbol}}}return t(""),t("+"),t("#"),t("."),t("/"),t(";"),t("?"),t("&"),{valueOf:function(t){return e[t]?e[t]:0<="=,!@|".indexOf(t)?null:e[""]}}}();function g(t){var e;if(null==t)return!1;if(f.isArray(t))return 0<t.length;if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return!0;for(e in t)if(t.hasOwnProperty(e)&&g(t[e]))return!0;return!1}var e,v=function(){function t(t){this.literal=m.encodeLiteral(t)}return t.prototype.toString=t.prototype.expand=function(){return this.literal},t}(),n=function(){function c(n){var t,r,e=[],o=null,i=null,s=null,a="";function u(){var t=n.substring(i,r);if(0===t.length)throw new l({expressionText:n,message:"a varname must be specified",position:r});o={varname:t,exploded:!1,maxLength:null},i=null}function c(){if(s===r)throw new l({expressionText:n,message:"after a ':' you have to specify the length",position:r});o.maxLength=parseInt(n.substring(s,r),10),s=null}for(t=function(t){var e=y.valueOf(t);if(null===e)throw new l({expressionText:n,message:"illegal use of reserved operator",position:r,operator:t});return e}(n.charAt(0)),r=t.symbol.length,i=r;r<n.length;r+=a.length){if(a=d.pctCharAt(n,r),null!==i){if("."===a){if(i===r)throw new l({expressionText:n,message:"a varname MUST NOT start with a dot",position:r});continue}if(p.isVarchar(a))continue;u()}if(null!==s){if(r===s&&"0"===a)throw new l({expressionText:n,message:"A :prefix must not start with digit 0",position:r});if(_.isDigit(a)){if(4<=r-s)throw new l({expressionText:n,message:"A :prefix must have max 4 digits",position:r});continue}c()}if(":"!==a)if("*"!==a){if(","!==a)throw new l({expressionText:n,message:"illegal character",character:a,position:r});e.push(o),o=null,i=r+1}else{if(null===o)throw new l({expressionText:n,message:"exploded without varspec",position:r});if(o.exploded)throw new l({expressionText:n,message:"exploded twice",position:r});if(o.maxLength)throw new l({expressionText:n,message:"an explode (*) MUST NOT follow to a prefix",position:r});o.exploded=!0}else{if(null!==o.maxLength)throw new l({expressionText:n,message:"only one :maxLength is allowed per varspec",position:r});if(o.exploded)throw new l({expressionText:n,message:"an exploeded varspec MUST NOT be varspeced",position:r});s=r+1}}return null!==i&&u(),null!==s&&c(),e.push(o),new w(n,t,e)}function h(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}return function(e){var t,n,r,o=[],i=null,s="",a=!0,u=0;for(t=0;t<e.length;t+=1)if(n=e.charAt(t),null===u){if(null===i)throw new Error("reached unreachable code");if("{"===n)throw new l({templateText:e,message:"brace already opened",position:t});if("}"===n){if(i+1===t)throw new l({templateText:e,message:"empty braces",position:i});try{r=c(e.substring(i+1,t))}catch(t){if(t.prototype===l.prototype)throw new l({templateText:e,message:t.options.message,position:i+t.options.position,details:t.options});throw t}o.push(r),0===r.operator.symbol.length?s+="([^/]+)":a=!1,i=null,u=t+1}}else{if("}"===n)throw new l({templateText:e,message:"unopened brace closed",position:t});"{"===n&&(u<t&&(r=new v(e.substring(u,t)),o.push(r),s+=h(r.literal)),u=null,i=t)}if(null!==i)throw new l({templateText:e,message:"unclosed brace",position:i});return u<e.length&&(r=new v(e.substring(u)),o.push(r),s+=h(r.literal)),!1===a&&(s=void 0),new b(e,o,s)}}(),w=function(){function a(t){if(!g(t))return!0;if(f.isString(t))return""===t;if(f.isNumber(t)||f.isBoolean(t))return!1;if(f.isArray(t))return 0===t.length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function i(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push({name:e,value:t[e]});return n}function t(t,e,n){this.templateText=t,this.operator=e,this.varspecs=n}function u(t,e,n){var r="";if(n=n.toString(),e.named){if(r+=m.encodeLiteral(t.varname),""===n)return r+=e.ifEmpty;r+="="}return null!==t.maxLength&&(n=n.substr(0,t.maxLength)),r+=e.encode(n)}function s(t){return g(t.value)}function c(t,e,n){var r=[],o="";if(e.named){if(o+=m.encodeLiteral(t.varname),a(n))return o+=e.ifEmpty;o+="="}return f.isArray(n)?(r=n,r=f.filter(r,g),r=f.map(r,e.encode)):(r=i(n),r=f.filter(r,s),r=f.map(r,function(t){return e.encode(t.name)+","+e.encode(t.value)})),o+=f.join(r,",")}function h(n,r,t){var e=[];return f.isArray(t)?(e=t,e=f.filter(e,g),e=f.map(e,function(t){var e=m.encodeLiteral(n.varname);return a(t)?e+=r.ifEmpty:e+="="+r.encode(t),e})):(e=i(t),e=f.filter(e,s),e=f.map(e,function(t){var e=m.encodeLiteral(t.name);return a(t.value)?e+=r.ifEmpty:e+="="+r.encode(t.value),e})),f.join(e,r.separator)}function l(e,t){var n=[],r="";return f.isArray(t)?(n=t,n=f.filter(n,g),n=f.map(n,e.encode)):(n=i(t),n=f.filter(n,function(t){return g(t.value)}),n=f.map(n,function(t){return e.encode(t.name)+"="+e.encode(t.value)})),r+=f.join(n,e.separator)}return t.prototype.toString=function(){return this.templateText},t.prototype.expand=function(t){var e,n,r,o,i=[],s=this.operator;for(e=0;e<this.varspecs.length;e+=1)if(null!=(r=t[(n=this.varspecs[e]).varname]))if(n.exploded&&!0,f.isArray(r),"string"==typeof r||"number"==typeof r||"boolean"==typeof r)i.push(u(n,s,r));else{if(n.maxLength&&g(r))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+(o=r,JSON&&JSON.stringify?JSON.stringify(o):o));n.exploded?g(r)&&(s.named?i.push(h(n,s,r)):i.push(l(s,r))):!s.named&&a(r)||i.push(c(n,s,r))}return 0===i.length?"":s.first+f.join(i,s.separator)},t}(),b=function(){function t(t,e,n){this.templateText=t,this.expressions=e,void 0!==n&&(this.regexp=new RegExp("^"+n+"$")),f.deepFreeze(this)}return t.prototype.toString=function(){return this.templateText},t.prototype.expand=function(t){var e,n="";for(e=0;e<this.expressions.length;e+=1)n+=this.expressions[e].expand(t);return n},t.prototype.extract=function(t){var e,n,r,o,i=1,s=!0,a={};if(void 0!==this.regexp&&this.regexp.test(t)){for(o=this.regexp.exec(t),e=0;e<this.expressions.length;e+=1)void 0===(n=this.expressions[e]).literal&&(void 0!==n.operator&&0===n.operator.symbol.length&&1===n.varspecs.length&&!1===(r=n.varspecs[0]).exploded&&null===r.maxLength&&-1===o[i].indexOf(",")?(a[r.varname]=decodeURIComponent(o[i]),i+=1):s=!1);if(s)return a}return!1},t.parse=n,t.UriTemplateError=l,t}();e=b,"undefined"!=typeof module?module.exports=e:"function"==typeof define?define([],function(){return e}):"undefined"!=typeof window?window.UriTemplate=e:global.UriTemplate=e}();var LZString=function(){var y=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function i(t,e){if(!o[t]){o[t]={};for(var n=0;n<t.length;n++)o[t][t.charAt(n)]=n}return o[t][e]}var s={compressToBase64:function(t){if(null==t)return"";var e=s._compress(t,6,function(t){return n.charAt(t)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:s._decompress(e.length,32,function(t){return i(n,e.charAt(t))})},compressToUTF16:function(t){return null==t?"":s._compress(t,15,function(t){return y(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:s._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(t){for(var e=s.compress(t),n=new Uint8Array(2*e.length),r=0,o=e.length;r<o;r++){var i=e.charCodeAt(r);n[2*r]=i>>>8,n[2*r+1]=i%256}return n},decompressFromUint8Array:function(t){if(null==t)return s.decompress(t);for(var e=new Array(t.length/2),n=0,r=e.length;n<r;n++)e[n]=256*t[2*n]+t[2*n+1];var o=[];return e.forEach(function(t){o.push(y(t))}),s.decompress(o.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":s._compress(t,6,function(t){return r.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),s._decompress(e.length,32,function(t){return i(r,e.charAt(t))}))},compress:function(t){return s._compress(t,16,function(t){return y(t)})},_compress:function(t,e,n){if(null==t)return"";var r,o,i,s={},a={},u="",c="",h="",l=2,f=3,_=2,d=[],p=0,m=0;for(i=0;i<t.length;i+=1)if(u=t.charAt(i),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,a[u]=!0),c=h+u,Object.prototype.hasOwnProperty.call(s,c))h=c;else{if(Object.prototype.hasOwnProperty.call(a,h)){if(h.charCodeAt(0)<256){for(r=0;r<_;r++)p<<=1,m==e-1?(m=0,d.push(n(p)),p=0):m++;for(o=h.charCodeAt(0),r=0;r<8;r++)p=p<<1|1&o,m==e-1?(m=0,d.push(n(p)),p=0):m++,o>>=1}else{for(o=1,r=0;r<_;r++)p=p<<1|o,m==e-1?(m=0,d.push(n(p)),p=0):m++,o=0;for(o=h.charCodeAt(0),r=0;r<16;r++)p=p<<1|1&o,m==e-1?(m=0,d.push(n(p)),p=0):m++,o>>=1}0==--l&&(l=Math.pow(2,_),_++),delete a[h]}else for(o=s[h],r=0;r<_;r++)p=p<<1|1&o,m==e-1?(m=0,d.push(n(p)),p=0):m++,o>>=1;0==--l&&(l=Math.pow(2,_),_++),s[c]=f++,h=String(u)}if(""!==h){if(Object.prototype.hasOwnProperty.call(a,h)){if(h.charCodeAt(0)<256){for(r=0;r<_;r++)p<<=1,m==e-1?(m=0,d.push(n(p)),p=0):m++;for(o=h.charCodeAt(0),r=0;r<8;r++)p=p<<1|1&o,m==e-1?(m=0,d.push(n(p)),p=0):m++,o>>=1}else{for(o=1,r=0;r<_;r++)p=p<<1|o,m==e-1?(m=0,d.push(n(p)),p=0):m++,o=0;for(o=h.charCodeAt(0),r=0;r<16;r++)p=p<<1|1&o,m==e-1?(m=0,d.push(n(p)),p=0):m++,o>>=1}0==--l&&(l=Math.pow(2,_),_++),delete a[h]}else for(o=s[h],r=0;r<_;r++)p=p<<1|1&o,m==e-1?(m=0,d.push(n(p)),p=0):m++,o>>=1;0==--l&&(l=Math.pow(2,_),_++)}for(o=2,r=0;r<_;r++)p=p<<1|1&o,m==e-1?(m=0,d.push(n(p)),p=0):m++,o>>=1;for(;;){if(p<<=1,m==e-1){d.push(n(p));break}m++}return d.join("")},decompress:function(e){return null==e?"":""==e?null:s._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,e,n){var r,o,i,s,a,u,c,h=[],l=4,f=4,_=3,d="",p=[],m={val:n(0),position:e,index:1};for(r=0;r<3;r+=1)h[r]=r;for(i=0,a=Math.pow(2,2),u=1;u!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=n(m.index++)),i|=(0<s?1:0)*u,u<<=1;switch(i){case 0:for(i=0,a=Math.pow(2,8),u=1;u!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=n(m.index++)),i|=(0<s?1:0)*u,u<<=1;c=y(i);break;case 1:for(i=0,a=Math.pow(2,16),u=1;u!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=n(m.index++)),i|=(0<s?1:0)*u,u<<=1;c=y(i);break;case 2:return""}for(o=h[3]=c,p.push(c);;){if(m.index>t)return"";for(i=0,a=Math.pow(2,_),u=1;u!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=n(m.index++)),i|=(0<s?1:0)*u,u<<=1;switch(c=i){case 0:for(i=0,a=Math.pow(2,8),u=1;u!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=n(m.index++)),i|=(0<s?1:0)*u,u<<=1;h[f++]=y(i),c=f-1,l--;break;case 1:for(i=0,a=Math.pow(2,16),u=1;u!=a;)s=m.val&m.position,m.position>>=1,0==m.position&&(m.position=e,m.val=n(m.index++)),i|=(0<s?1:0)*u,u<<=1;h[f++]=y(i),c=f-1,l--;break;case 2:return p.join("")}if(0==l&&(l=Math.pow(2,_),_++),h[c])d=h[c];else{if(c!==f)return null;d=o+o.charAt(0)}p.push(d),h[f++]=o+d.charAt(0),o=d,0==--l&&(l=Math.pow(2,_),_++)}}};return s}();function parseStringToObject(t){var o=function(){var t,e,n=[],r=arguments;for(t=0;t<r.length;t+=1)for(e=0;e<r[t].length;e+=1)n.push(r[t][e]);return n},_=function(t,e,n){var r={type:"simple",key:t,value:e};return void 0!==n&&(r.operator=n),r},d=function(t,e){var n,r=[];for(n=0;n<e.length;n+=1)e[n].operator===t?r=o(r,e[n].query_list):r.push(e[n]);return{type:"complex",operator:t,query_list:r}},p=function(t,e){var n;if("complex"===t.type){for(n=0;n<t.query_list.length;++n)p(t.query_list[n],e);return!0}return"simple"===t.type&&!t.key&&(t.key=e,!0)};return function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,5],n=[1,7],r=[1,8],o=[1,10],i=[1,12],s=[1,6,7,15],a=[1,6,7,9,12,14,15,16,19,21],u=[1,6,7,9,11,12,14,15,16,19,21],c=[2,17],h={trace:function(){},yy:{},symbols_:{error:2,begin:3,search_text:4,end:5,EOF:6,NEWLINE:7,and_expression:8,OR:9,boolean_expression:10,AND:11,NOT:12,expression:13,LEFT_PARENTHESE:14,RIGHT_PARENTHESE:15,WORD:16,DEFINITION:17,value:18,OPERATOR:19,string:20,QUOTE:21,QUOTED_STRING:22,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",7:"NEWLINE",9:"OR",11:"AND",12:"NOT",14:"LEFT_PARENTHESE",15:"RIGHT_PARENTHESE",16:"WORD",17:"DEFINITION",19:"OPERATOR",21:"QUOTE",22:"QUOTED_STRING"},productions_:[0,[3,2],[5,0],[5,1],[5,1],[4,1],[4,2],[4,3],[8,1],[8,3],[10,2],[10,1],[13,3],[13,3],[13,1],[18,2],[18,1],[20,1],[20,3]],performAction:function(t,e,n,r,o,i,s){var a,u=i.length-1;switch(o){case 1:return i[u-1];case 5:case 8:case 11:case 14:case 16:this.$=i[u];break;case 6:this.$=d("AND",[i[u-1],i[u]]);break;case 7:this.$=d("OR",[i[u-2],i[u]]);break;case 9:this.$=d("AND",[i[u-2],i[u]]);break;case 10:this.$="NOT"===(a=i[u]).operator?a.query_list[0]:{type:"complex",operator:"NOT",query_list:[a]};break;case 12:this.$=i[u-1];break;case 13:p(i[u],i[u-2]),this.$=i[u];break;case 15:i[u].operator=i[u-1],this.$=i[u];break;case 17:this.$=_("",i[u]);break;case 18:this.$=_("",i[u-1])}},table:[{3:1,4:2,8:3,10:4,12:e,13:6,14:n,16:r,18:9,19:o,20:11,21:i},{1:[3]},{1:[2,2],5:13,6:[1,14],7:[1,15]},t(s,[2,5],{8:3,10:4,13:6,18:9,20:11,4:16,9:[1,17],12:e,14:n,16:r,19:o,21:i}),t(a,[2,8],{11:[1,18]}),{13:19,14:n,16:r,18:9,19:o,20:11,21:i},t(u,[2,11]),{4:20,8:3,10:4,12:e,13:6,14:n,16:r,18:9,19:o,20:11,21:i},t(u,c,{17:[1,21]}),t(u,[2,14]),{16:[1,23],20:22,21:i},t(u,[2,16]),{22:[1,24]},{1:[2,1]},{1:[2,3]},{1:[2,4]},t(s,[2,6]),{4:25,8:3,10:4,12:e,13:6,14:n,16:r,18:9,19:o,20:11,21:i},{8:26,10:4,12:e,13:6,14:n,16:r,18:9,19:o,20:11,21:i},t(u,[2,10]),{15:[1,27]},{13:28,14:n,16:r,18:9,19:o,20:11,21:i},t(u,[2,15]),t(u,c),{21:[1,29]},t(s,[2,7]),t(a,[2,9]),t(u,[2,12]),t(u,[2,13]),t(u,[2,18])],defaultActions:{13:[2,1],14:[2,3],15:[2,4]},parseError:function(t,e){if(!e.recoverable){function n(t,e){this.message=t,this.hash=e}throw n.prototype=new Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],o=[],i=this.table,s="",a=0,u=0,c=0,h=o.slice.call(arguments,1),l=Object.create(this.lexer),f={yy:{}};for(var _ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_)&&(f.yy[_]=this.yy[_]);l.setInput(t,f.yy),f.yy.lexer=l,f.yy.parser=this,void 0===l.yylloc&&(l.yylloc={});var d=l.yylloc;o.push(d);var p=l.options&&l.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,y,g,v,w,b,O,k,A,S=function(){var t;return"number"!=typeof(t=l.lex()||1)&&(t=e.symbols_[t]||t),t},T={};;){if(g=n[n.length-1],this.defaultActions[g]?v=this.defaultActions[g]:(null==m&&(m=S()),v=i[g]&&i[g][m]),void 0===v||!v.length||!v[0]){var E="";for(b in A=[],i[g])this.terminals_[b]&&2<b&&A.push("'"+this.terminals_[b]+"'");E=l.showPosition?"Parse error on line "+(a+1)+":\n"+l.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(E,{text:l.match,token:this.terminals_[m]||m,line:l.yylineno,loc:d,expected:A})}if(v[0]instanceof Array&&1<v.length)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+m);switch(v[0]){case 1:n.push(m),r.push(l.yytext),o.push(l.yylloc),n.push(v[1]),m=null,y?(m=y,y=null):(u=l.yyleng,s=l.yytext,a=l.yylineno,d=l.yylloc,0<c&&c--);break;case 2:if(O=this.productions_[v[1]][1],T.$=r[r.length-O],T._$={first_line:o[o.length-(O||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(O||1)].first_column,last_column:o[o.length-1].last_column},p&&(T._$.range=[o[o.length-(O||1)].range[0],o[o.length-1].range[1]]),void 0!==(w=this.performAction.apply(T,[s,u,a,f.yy,v[1],r,o].concat(h))))return w;O&&(n=n.slice(0,-1*O*2),r=r.slice(0,-1*O),o=o.slice(0,-1*O)),n.push(this.productions_[v[1]][0]),r.push(T.$),o.push(T._$),k=i[n[n.length-2]][n[n.length-1]],n.push(k);break;case 3:return!0}}return!0}},l={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in o)this[i]=o[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((n=this._input.match(this.rules[o[i]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=i,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[i])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return 0<=(t=this.conditionStack.length-1-Math.abs(t||0))?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("letsquote"),"QUOTE";case 1:return this.popState(),this.begin("endquote"),"QUOTED_STRING";case 2:return this.popState(),"QUOTE";case 3:break;case 4:return"LEFT_PARENTHESE";case 5:return"RIGHT_PARENTHESE";case 6:return"AND";case 7:return"OR";case 8:return"NOT";case 9:return"DEFINITION";case 10:return 19;case 11:return 16;case 12:return 6}},rules:[/^(?:")/,/^(?:(\\"|[^"])*)/,/^(?:")/,/^(?:[^\S]+)/,/^(?:\()/,/^(?:\))/,/^(?:AND\b)/,/^(?:OR\b)/,/^(?:NOT\b)/,/^(?::)/,/^(?:(!?=|<=?|>=?))/,/^(?:[^\s\n"():><!=]+)/,/^(?:$)/],conditions:{endquote:{rules:[2],inclusive:!1},letsquote:{rules:[1],inclusive:!1},INITIAL:{rules:[0,3,4,5,6,7,8,9,10,11,12],inclusive:!0}}};function f(){this.yy={}}return h.lexer=l,new((f.prototype=h).Parser=f)}().parse(t)}"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,o;function f(){return t.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function u(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function c(t){return void 0===t}function h(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function _(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t,e){for(var n in e)d(e,n)&&(t[n]=e[n]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e,n,r){return Te(t,e,n,r,!0).utc()}function y(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=y(t),n=o.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function v(t){var e=m(NaN);return null!=t?p(y(e),t):y(e).userInvalidated=!0,e}o=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var i=f.momentProperties=[];function w(t,e){var n,r,o;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=y(e)),c(e._locale)||(t._locale=e._locale),0<i.length)for(n=0;n<i.length;n++)c(o=e[r=i[n]])||(t[r]=o);return t}var e=!1;function b(t){w(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,f.updateOffset(this),e=!1)}function O(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function k(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function A(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=k(e)),n}function s(t,e,n){var r,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0;for(r=0;r<o;r++)(n&&t[r]!==e[r]||!n&&A(t[r])!==A(e[r]))&&s++;return s+i}function S(t){!1===f.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function n(o,i){var s=!0;return p(function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,o),s){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var r in t+="\n["+n+"] ",arguments[0])t+=r+": "+arguments[0][r]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}S(o+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),s=!1}return i.apply(this,arguments)},i)}var r,T={};function E(t,e){null!=f.deprecationHandler&&f.deprecationHandler(t,e),T[t]||(S(e),T[t]=!0)}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t,e){var n,r=p({},t);for(n in e)d(e,n)&&(u(t[n])&&u(e[n])?(r[n]={},p(r[n],t[n]),p(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)d(t,n)&&!d(e,n)&&u(t[n])&&(r[n]=p({},r[n]));return r}function x(t){null!=t&&this.set(t)}f.suppressDeprecationWarnings=!1,f.deprecationHandler=null,r=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)d(t,e)&&n.push(e);return n};var Y={};function P(t,e){var n=t.toLowerCase();Y[n]=Y[n+"s"]=Y[e]=t}function C(t){return"string"==typeof t?Y[t]||Y[t.toLowerCase()]:void 0}function I(t){var e,n,r={};for(n in t)d(t,n)&&(e=C(n))&&(r[e]=t[n]);return r}var L={};function N(t,e){L[t]=e}function j(t,e,n){var r=""+Math.abs(t),o=e-r.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},H={};function G(t,e,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),t&&(H[t]=o),e&&(H[e[0]]=function(){return j(o.apply(this,arguments),e[1],e[2])}),n&&(H[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function W(t,e){return t.isValid()?(e=V(e,t.localeData()),U[e]=U[e]||function(r){var t,o,e,i=r.match(R);for(t=0,o=i.length;t<o;t++)H[i[t]]?i[t]=H[i[t]]:i[t]=(e=i[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<o;e++)n+=M(i[e])?i[e].call(t,r):i[e];return n}}(e),U[e](t)):t.localeData().invalidDate()}function V(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(F.lastIndex=0;0<=n&&F.test(t);)t=t.replace(F,r),F.lastIndex=0,n-=1;return t}var Q=/\d/,q=/\d\d/,B=/\d{3}/,z=/\d{4}/,J=/[+-]?\d{6}/,$=/\d\d?/,Z=/\d\d\d\d?/,K=/\d\d\d\d\d\d?/,X=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,ot=/Z|[+-]\d\d:?\d\d/gi,it=/Z|[+-]\d\d(?::?\d\d)?/gi,st=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,at={};function ut(t,n,r){at[t]=M(n)?n:function(t,e){return t&&r?r:n}}function ct(t,e){return d(at,t)?at[t](e._strict,e._locale):new RegExp(ht(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,o){return e||n||r||o})))}function ht(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var lt={};function ft(t,n){var e,r=n;for("string"==typeof t&&(t=[t]),h(n)&&(r=function(t,e){e[n]=A(t)}),e=0;e<t.length;e++)lt[t[e]]=r}function _t(t,o){ft(t,function(t,e,n,r){n._w=n._w||{},o(t,n._w,n,r)})}var dt=0,pt=1,mt=2,yt=3,gt=4,vt=5,wt=6,bt=7,Ot=8;function kt(t){return At(t)?366:365}function At(t){return t%4==0&&t%100!=0||t%400==0}G("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),P("year","y"),N("year",1),ut("Y",rt),ut("YY",$,q),ut("YYYY",tt,z),ut("YYYYY",et,J),ut("YYYYYY",et,J),ft(["YYYYY","YYYYYY"],dt),ft("YYYY",function(t,e){e[dt]=2===t.length?f.parseTwoDigitYear(t):A(t)}),ft("YY",function(t,e){e[dt]=f.parseTwoDigitYear(t)}),ft("Y",function(t,e){e[dt]=parseInt(t,10)}),f.parseTwoDigitYear=function(t){return A(t)+(68<A(t)?1900:2e3)};var St,Tt=Et("FullYear",!0);function Et(e,n){return function(t){return null!=t?(Dt(this,e,t),f.updateOffset(this,n),this):Mt(this,e)}}function Mt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Dt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&At(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),xt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function xt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?At(t)?29:28:31-r%7%2}St=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),G("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),N("month",8),ut("M",$),ut("MM",$,q),ut("MMM",function(t,e){return e.monthsShortRegex(t)}),ut("MMMM",function(t,e){return e.monthsRegex(t)}),ft(["M","MM"],function(t,e){e[pt]=A(t)-1}),ft(["MMM","MMMM"],function(t,e,n,r){var o=n._locale.monthsParse(t,r,n._strict);null!=o?e[pt]=o:y(n).invalidMonth=t});var Yt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Ct="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function It(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=A(e);else if(!h(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),xt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Lt(t){return null!=t?(It(this,t),f.updateOffset(this,!0),this):Mt(this,"Month")}var Nt=st;var jt=st;function Rt(){function t(t,e){return e.length-t.length}var e,n,r=[],o=[],i=[];for(e=0;e<12;e++)n=m([2e3,e]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(t),o.sort(t),i.sort(t),e=0;e<12;e++)r[e]=ht(r[e]),o[e]=ht(o[e]);for(e=0;e<24;e++)i[e]=ht(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ft(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Ut(t,e,n){var r=7+e-n;return-((7+Ft(t,0,r).getUTCDay()-e)%7)+r-1}function Ht(t,e,n,r,o){var i,s,a=1+7*(e-1)+(7+n-r)%7+Ut(t,r,o);return a<=0?s=kt(i=t-1)+a:a>kt(t)?(i=t+1,s=a-kt(t)):(i=t,s=a),{year:i,dayOfYear:s}}function Gt(t,e,n){var r,o,i=Ut(t.year(),e,n),s=Math.floor((t.dayOfYear()-i-1)/7)+1;return s<1?r=s+Wt(o=t.year()-1,e,n):s>Wt(t.year(),e,n)?(r=s-Wt(t.year(),e,n),o=t.year()+1):(o=t.year(),r=s),{week:r,year:o}}function Wt(t,e,n){var r=Ut(t,e,n),o=Ut(t+1,e,n);return(kt(t)-r+o)/7}G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),N("week",5),N("isoWeek",5),ut("w",$),ut("ww",$,q),ut("W",$),ut("WW",$,q),_t(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=A(t)});G("d",0,"do","day"),G("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),G("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),G("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),ut("d",$),ut("e",$),ut("E",$),ut("dd",function(t,e){return e.weekdaysMinRegex(t)}),ut("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ut("dddd",function(t,e){return e.weekdaysRegex(t)}),_t(["dd","ddd","dddd"],function(t,e,n,r){var o=n._locale.weekdaysParse(t,r,n._strict);null!=o?e.d=o:y(n).invalidWeekday=t}),_t(["d","e","E"],function(t,e,n,r){e[r]=A(t)});var Vt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Qt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var qt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Bt=st;var zt=st;var Jt=st;function $t(){function t(t,e){return e.length-t.length}var e,n,r,o,i,s=[],a=[],u=[],c=[];for(e=0;e<7;e++)n=m([2e3,1]).day(e),r=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),i=this.weekdays(n,""),s.push(r),a.push(o),u.push(i),c.push(r),c.push(o),c.push(i);for(s.sort(t),a.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)a[e]=ht(a[e]),u[e]=ht(u[e]),c[e]=ht(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Kt(t,e){G(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Xt(t,e){return e._meridiemParse}G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Zt),G("k",["kk",2],0,function(){return this.hours()||24}),G("hmm",0,0,function(){return""+Zt.apply(this)+j(this.minutes(),2)}),G("hmmss",0,0,function(){return""+Zt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),Kt("a",!0),Kt("A",!1),P("hour","h"),N("hour",13),ut("a",Xt),ut("A",Xt),ut("H",$),ut("h",$),ut("k",$),ut("HH",$,q),ut("hh",$,q),ut("kk",$,q),ut("hmm",Z),ut("hmmss",K),ut("Hmm",Z),ut("Hmmss",K),ft(["H","HH"],yt),ft(["k","kk"],function(t,e,n){var r=A(t);e[yt]=24===r?0:r}),ft(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),ft(["h","hh"],function(t,e,n){e[yt]=A(t),y(n).bigHour=!0}),ft("hmm",function(t,e,n){var r=t.length-2;e[yt]=A(t.substr(0,r)),e[gt]=A(t.substr(r)),y(n).bigHour=!0}),ft("hmmss",function(t,e,n){var r=t.length-4,o=t.length-2;e[yt]=A(t.substr(0,r)),e[gt]=A(t.substr(r,2)),e[vt]=A(t.substr(o)),y(n).bigHour=!0}),ft("Hmm",function(t,e,n){var r=t.length-2;e[yt]=A(t.substr(0,r)),e[gt]=A(t.substr(r))}),ft("Hmmss",function(t,e,n){var r=t.length-4,o=t.length-2;e[yt]=A(t.substr(0,r)),e[gt]=A(t.substr(r,2)),e[vt]=A(t.substr(o))});var te,ee=Et("Hours",!0),ne={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pt,monthsShort:Ct,week:{dow:0,doy:6},weekdays:Vt,weekdaysMin:qt,weekdaysShort:Qt,meridiemParse:/[ap]\.?m?\.?/i},re={},oe={};function ie(t){return t?t.toLowerCase().replace("_","-"):t}function se(t){var e=null;if(!re[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=te._abbr,require("./locale/"+t),ae(e)}catch(t){}return re[t]}function ae(t,e){var n;return t&&((n=c(e)?ce(t):ue(t,e))?te=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),te._abbr}function ue(t,e){if(null!==e){var n,r=ne;if(e.abbr=t,null!=re[t])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=re[t]._config;else if(null!=e.parentLocale)if(null!=re[e.parentLocale])r=re[e.parentLocale]._config;else{if(null==(n=se(e.parentLocale)))return oe[e.parentLocale]||(oe[e.parentLocale]=[]),oe[e.parentLocale].push({name:t,config:e}),null;r=n._config}return re[t]=new x(D(r,e)),oe[t]&&oe[t].forEach(function(t){ue(t.name,t.config)}),ae(t),re[t]}return delete re[t],null}function ce(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return te;if(!a(t)){if(e=se(t))return e;t=[t]}return function(t){for(var e,n,r,o,i=0;i<t.length;){for(e=(o=ie(t[i]).split("-")).length,n=(n=ie(t[i+1]))?n.split("-"):null;0<e;){if(r=se(o.slice(0,e).join("-")))return r;if(n&&n.length>=e&&s(o,n,!0)>=e-1)break;e--}i++}return te}(t)}function he(t){var e,n=t._a;return n&&-2===y(t).overflow&&(e=n[pt]<0||11<n[pt]?pt:n[mt]<1||n[mt]>xt(n[dt],n[pt])?mt:n[yt]<0||24<n[yt]||24===n[yt]&&(0!==n[gt]||0!==n[vt]||0!==n[wt])?yt:n[gt]<0||59<n[gt]?gt:n[vt]<0||59<n[vt]?vt:n[wt]<0||999<n[wt]?wt:-1,y(t)._overflowDayOfYear&&(e<dt||mt<e)&&(e=mt),y(t)._overflowWeeks&&-1===e&&(e=bt),y(t)._overflowWeekday&&-1===e&&(e=Ot),y(t).overflow=e),t}function le(t,e,n){return null!=t?t:null!=e?e:n}function fe(t){var e,n,r,o,i,s=[];if(!t._d){var a,u;for(a=t,u=new Date(f.now()),r=a._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],t._w&&null==t._a[mt]&&null==t._a[pt]&&function(t){var e,n,r,o,i,s,a,u;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)i=1,s=4,n=le(e.GG,t._a[dt],Gt(Ee(),1,4).year),r=le(e.W,1),((o=le(e.E,1))<1||7<o)&&(u=!0);else{i=t._locale._week.dow,s=t._locale._week.doy;var c=Gt(Ee(),i,s);n=le(e.gg,t._a[dt],c.year),r=le(e.w,c.week),null!=e.d?((o=e.d)<0||6<o)&&(u=!0):null!=e.e?(o=e.e+i,(e.e<0||6<e.e)&&(u=!0)):o=i}r<1||r>Wt(n,i,s)?y(t)._overflowWeeks=!0:null!=u?y(t)._overflowWeekday=!0:(a=Ht(n,r,o,i,s),t._a[dt]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(i=le(t._a[dt],r[dt]),(t._dayOfYear>kt(i)||0===t._dayOfYear)&&(y(t)._overflowDayOfYear=!0),n=Ft(i,0,t._dayOfYear),t._a[pt]=n.getUTCMonth(),t._a[mt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[yt]&&0===t._a[gt]&&0===t._a[vt]&&0===t._a[wt]&&(t._nextDay=!0,t._a[yt]=0),t._d=(t._useUTC?Ft:function(t,e,n,r,o,i,s){var a=new Date(t,e,n,r,o,i,s);return t<100&&0<=t&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[yt]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(y(t).weekdayMismatch=!0)}}var _e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/Z|[+-]\d\d(?::?\d\d)?/,me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ye=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function ve(t){var e,n,r,o,i,s,a=t._i,u=_e.exec(a)||de.exec(a);if(u){for(y(t).iso=!0,e=0,n=me.length;e<n;e++)if(me[e][1].exec(u[1])){o=me[e][0],r=!1!==me[e][2];break}if(null==o)return void(t._isValid=!1);if(u[3]){for(e=0,n=ye.length;e<n;e++)if(ye[e][1].exec(u[3])){i=(u[2]||" ")+ye[e][0];break}if(null==i)return void(t._isValid=!1)}if(!r&&null!=i)return void(t._isValid=!1);if(u[4]){if(!pe.exec(u[4]))return void(t._isValid=!1);s="Z"}t._f=o+(i||"")+(s||""),Ae(t)}else t._isValid=!1}var we=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function be(t,e,n,r,o,i){var s=[function(t){var e=parseInt(t,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(t),Ct.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}var Oe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ke(t){var e,n,r,o=we.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(o){var i=be(o[4],o[3],o[2],o[5],o[6],o[7]);if(e=o[1],n=i,r=t,e&&Qt.indexOf(e)!==new Date(n[0],n[1],n[2]).getDay()&&(y(r).weekdayMismatch=!0,!(r._isValid=!1)))return;t._a=i,t._tzm=function(t,e,n){if(t)return Oe[t];if(e)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(o[8],o[9],o[10]),t._d=Ft.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),y(t).rfc2822=!0}else t._isValid=!1}function Ae(t){if(t._f!==f.ISO_8601)if(t._f!==f.RFC_2822){t._a=[],y(t).empty=!0;var e,n,r,o,i,s,a,u,c=""+t._i,h=c.length,l=0;for(r=V(t._f,t._locale).match(R)||[],e=0;e<r.length;e++)o=r[e],(n=(c.match(ct(o,t))||[])[0])&&(0<(i=c.substr(0,c.indexOf(n))).length&&y(t).unusedInput.push(i),c=c.slice(c.indexOf(n)+n.length),l+=n.length),H[o]?(n?y(t).empty=!1:y(t).unusedTokens.push(o),s=o,u=t,null!=(a=n)&&d(lt,s)&&lt[s](a,u._a,u,s)):t._strict&&!n&&y(t).unusedTokens.push(o);y(t).charsLeftOver=h-l,0<c.length&&y(t).unusedInput.push(c),t._a[yt]<=12&&!0===y(t).bigHour&&0<t._a[yt]&&(y(t).bigHour=void 0),y(t).parsedDateParts=t._a.slice(0),y(t).meridiem=t._meridiem,t._a[yt]=function(t,e,n){var r;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0)),e)}(t._locale,t._a[yt],t._meridiem),fe(t),he(t)}else ke(t);else ve(t)}function Se(t){var e,n,r,o,i=t._i,s=t._f;return t._locale=t._locale||ce(t._l),null===i||void 0===s&&""===i?v({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),O(i)?new b(he(i)):(l(i)?t._d=i:a(s)?function(t){var e,n,r,o,i;if(0===t._f.length)return y(t).invalidFormat=!0,t._d=new Date(NaN);for(o=0;o<t._f.length;o++)i=0,e=w({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Ae(e),g(e)&&(i+=y(e).charsLeftOver,i+=10*y(e).unusedTokens.length,y(e).score=i,(null==r||i<r)&&(r=i,n=e));p(t,n||e)}(t):s?Ae(t):c(n=(e=t)._i)?e._d=new Date(f.now()):l(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(r=e,null===(o=ge.exec(r._i))?(ve(r),!1===r._isValid&&(delete r._isValid,ke(r),!1===r._isValid&&(delete r._isValid,f.createFromInputFallback(r)))):r._d=new Date(+o[1])):a(n)?(e._a=_(n.slice(0),function(t){return parseInt(t,10)}),fe(e)):u(n)?function(t){if(!t._d){var e=I(t._i);t._a=_([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),fe(t)}}(e):h(n)?e._d=new Date(n):f.createFromInputFallback(e),g(t)||(t._d=null),t))}function Te(t,e,n,r,o){var i,s={};return!0!==n&&!1!==n||(r=n,n=void 0),(u(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||a(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=n,s._i=t,s._f=e,s._strict=r,(i=new b(he(Se(s))))._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function Ee(t,e,n,r){return Te(t,e,n,r,!1)}f.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),f.ISO_8601=function(){},f.RFC_2822=function(){};var Me=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()}),De=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:v()});function xe(t,e){var n,r;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return Ee();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Ye=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pe(t){var e=I(t),n=e.year||0,r=e.quarter||0,o=e.month||0,i=e.week||0,s=e.day||0,a=e.hour||0,u=e.minute||0,c=e.second||0,h=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===St.call(Ye,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Ye.length;++r)if(t[Ye[r]]){if(n)return!1;parseFloat(t[Ye[r]])!==A(t[Ye[r]])&&(n=!0)}return!0}(e),this._milliseconds=+h+1e3*c+6e4*u+1e3*a*60*60,this._days=+s+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=ce(),this._bubble()}function Ce(t){return t instanceof Pe}function Ie(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Le(t,n){G(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+j(~~(t/60),2)+n+j(~~t%60,2)})}Le("Z",":"),Le("ZZ",""),ut("Z",it),ut("ZZ",it),ft(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=je(it,t)});var Ne=/([\+\-]|\d\d)/gi;function je(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Ne)||["-",0,0],o=60*r[1]+A(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Re(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(O(t)||l(t)?t.valueOf():Ee(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),f.updateOffset(n,!1),n):Ee(t).local()}function Fe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ue(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}f.updateOffset=function(){};var He=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ge=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function We(t,e){var n,r,o,i=t,s=null;return Ce(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:h(t)?(i={},e?i[e]=t:i.milliseconds=t):(s=He.exec(t))?(n="-"===s[1]?-1:1,i={y:0,d:A(s[mt])*n,h:A(s[yt])*n,m:A(s[gt])*n,s:A(s[vt])*n,ms:A(Ie(1e3*s[wt]))*n}):(s=Ge.exec(t))?(n="-"===s[1]?-1:(s[1],1),i={y:Ve(s[2],n),M:Ve(s[3],n),w:Ve(s[4],n),d:Ve(s[5],n),h:Ve(s[6],n),m:Ve(s[7],n),s:Ve(s[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=Re(e,t),t.isBefore(e)?n=Qe(t,e):((n=Qe(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Ee(i.from),Ee(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new Pe(i),Ce(t)&&d(t,"_locale")&&(r._locale=t._locale),r}function Ve(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Qe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function qe(r,o){return function(t,e){var n;return null===e||isNaN(+e)||(E(o,"moment()."+o+"(period, number) is deprecated. Please use moment()."+o+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Be(this,We(t="string"==typeof t?+t:t,e),r),this}}function Be(t,e,n,r){var o=e._milliseconds,i=Ie(e._days),s=Ie(e._months);t.isValid()&&(r=null==r||r,s&&It(t,Mt(t,"Month")+s*n),i&&Dt(t,"Date",Mt(t,"Date")+i*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&f.updateOffset(t,i||s))}We.fn=Pe.prototype,We.invalid=function(){return We(NaN)};var ze=qe(1,"add"),Je=qe(-1,"subtract");function $e(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Ze(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ce(t))&&(this._locale=e),this)}f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ke=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Xe(){return this._locale}function tn(t,e){G(0,[t,t.length],0,e)}function en(t,e,n,r,o){var i;return null==t?Gt(this,r,o).year:((i=Wt(t,r,o))<e&&(e=i),function(t,e,n,r,o){var i=Ht(t,e,n,r,o),s=Ft(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,t,e,n,r,o))}G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tn("gggg","weekYear"),tn("ggggg","weekYear"),tn("GGGG","isoWeekYear"),tn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),ut("G",rt),ut("g",rt),ut("GG",$,q),ut("gg",$,q),ut("GGGG",tt,z),ut("gggg",tt,z),ut("GGGGG",et,J),ut("ggggg",et,J),_t(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=A(t)}),_t(["gg","GG"],function(t,e,n,r){e[r]=f.parseTwoDigitYear(t)}),G("Q",0,"Qo","quarter"),P("quarter","Q"),N("quarter",7),ut("Q",Q),ft("Q",function(t,e){e[pt]=3*(A(t)-1)}),G("D",["DD",2],"Do","date"),P("date","D"),N("date",9),ut("D",$),ut("DD",$,q),ut("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),ft(["D","DD"],mt),ft("Do",function(t,e){e[mt]=A(t.match($)[0])});var nn=Et("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),N("dayOfYear",4),ut("DDD",X),ut("DDDD",B),ft(["DDD","DDDD"],function(t,e,n){n._dayOfYear=A(t)}),G("m",["mm",2],0,"minute"),P("minute","m"),N("minute",14),ut("m",$),ut("mm",$,q),ft(["m","mm"],gt);var rn=Et("Minutes",!1);G("s",["ss",2],0,"second"),P("second","s"),N("second",15),ut("s",$),ut("ss",$,q),ft(["s","ss"],vt);var on,sn=Et("Seconds",!1);for(G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),N("millisecond",16),ut("S",X,Q),ut("SS",X,q),ut("SSS",X,B),on="SSSS";on.length<=9;on+="S")ut(on,nt);function an(t,e){e[wt]=A(1e3*("0."+t))}for(on="S";on.length<=9;on+="S")ft(on,an);var un=Et("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var cn=b.prototype;function hn(t){return t}cn.add=ze,cn.calendar=function(t,e){var n=t||Ee(),r=Re(n,this).startOf("day"),o=f.calendarFormat(this,r)||"sameElse",i=e&&(M(e[o])?e[o].call(this,n):e[o]);return this.format(i||this.localeData().calendar(o,this,Ee(n)))},cn.clone=function(){return new b(this)},cn.diff=function(t,e,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=Re(t,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),e=C(e)){case"year":i=$e(this,r)/12;break;case"month":i=$e(this,r);break;case"quarter":i=$e(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:k(i)},cn.endOf=function(t){return void 0===(t=C(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},cn.format=function(t){t||(t=this.isUtc()?f.defaultFormatUtc:f.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)},cn.from=function(t,e){return this.isValid()&&(O(t)&&t.isValid()||Ee(t).isValid())?We({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.fromNow=function(t){return this.from(Ee(),t)},cn.to=function(t,e){return this.isValid()&&(O(t)&&t.isValid()||Ee(t).isValid())?We({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},cn.toNow=function(t){return this.to(Ee(),t)},cn.get=function(t){return M(this[t=C(t)])?this[t]():this},cn.invalidAt=function(){return y(this).overflow},cn.isAfter=function(t,e){var n=O(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=C(c(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},cn.isBefore=function(t,e){var n=O(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=C(c(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},cn.isBetween=function(t,e,n,r){return("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},cn.isSame=function(t,e){var n,r=O(t)?t:Ee(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=C(e||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},cn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},cn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},cn.isValid=function(){return g(this)},cn.lang=Ke,cn.locale=Ze,cn.localeData=Xe,cn.max=De,cn.min=Me,cn.parsingFlags=function(){return p({},y(this))},cn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:L[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=I(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(M(this[t=C(t)]))return this[t](e);return this},cn.startOf=function(t){switch(t=C(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},cn.subtract=Je,cn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},cn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},cn.toDate=function(){return new Date(this.valueOf())},cn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?W(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},cn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+o)},cn.toJSON=function(){return this.isValid()?this.toISOString():null},cn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cn.unix=function(){return Math.floor(this.valueOf()/1e3)},cn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cn.year=Tt,cn.isLeapYear=function(){return At(this.year())},cn.weekYear=function(t){return en.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cn.isoWeekYear=function(t){return en.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},cn.quarter=cn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},cn.month=Lt,cn.daysInMonth=function(){return xt(this.year(),this.month())},cn.week=cn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},cn.isoWeek=cn.isoWeeks=function(t){var e=Gt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},cn.weeksInYear=function(){var t=this.localeData()._week;return Wt(this.year(),t.dow,t.doy)},cn.isoWeeksInYear=function(){return Wt(this.year(),1,4)},cn.date=nn,cn.day=cn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-r,"d")):r},cn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},cn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(n=t,r=this.localeData(),"string"==typeof n?r.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?e:e-7)}return this.day()||7;var n,r},cn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},cn.hour=cn.hours=ee,cn.minute=cn.minutes=rn,cn.second=cn.seconds=sn,cn.millisecond=cn.milliseconds=un,cn.utcOffset=function(t,e,n){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=je(it,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Fe(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?Be(this,We(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Fe(this)},cn.utc=function(t){return this.utcOffset(0,t)},cn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},cn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=je(ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},cn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ee(t).utcOffset():0,(this.utcOffset()-t)%60==0)},cn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cn.isLocal=function(){return!!this.isValid()&&!this._isUTC},cn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cn.isUtc=Ue,cn.isUTC=Ue,cn.zoneAbbr=function(){return this._isUTC?"UTC":""},cn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cn.dates=n("dates accessor is deprecated. Use date instead.",nn),cn.months=n("months accessor is deprecated. Use month instead",Lt),cn.years=n("years accessor is deprecated. Use year instead",Tt),cn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),cn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t={};if(w(t,this),(t=Se(t))._a){var e=t._isUTC?m(t._a):Ee(t._a);this._isDSTShifted=this.isValid()&&0<s(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var ln=x.prototype;function fn(t,e,n,r){var o=ce(),i=m().set(r,e);return o[n](i,t)}function _n(t,e,n){if(h(t)&&(e=t,t=void 0),t=t||"",null!=e)return fn(t,e,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=fn(t,r,n,"month");return o}function dn(t,e,n,r){"boolean"==typeof t?h(e)&&(n=e,e=void 0):(e=t,t=!1,h(n=e)&&(n=e,e=void 0)),e=e||"";var o,i=ce(),s=t?i._week.dow:0;if(null!=n)return fn(e,(n+s)%7,r,"day");var a=[];for(o=0;o<7;o++)a[o]=fn(e,(o+s)%7,r,"day");return a}ln.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return M(r)?r.call(e,n):r},ln.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},ln.invalidDate=function(){return this._invalidDate},ln.ordinal=function(t){return this._ordinal.replace("%d",t)},ln.preparse=hn,ln.postformat=hn,ln.relativeTime=function(t,e,n,r){var o=this._relativeTime[n];return M(o)?o(t,e,n,r):o.replace(/%d/i,t)},ln.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return M(n)?n(e):n.replace(/%s/i,e)},ln.set=function(t){var e,n;for(n in t)M(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ln.months=function(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Yt).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone},ln.monthsShort=function(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Yt.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ln.monthsParse=function(t,e,n){var r,o,i;if(this._monthsParseExact)return function(t,e,n){var r,o,i,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=m([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=St.call(this._shortMonthsParse,s))?o:null:-1!==(o=St.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=St.call(this._shortMonthsParse,s))?o:-1!==(o=St.call(this._longMonthsParse,s))?o:null:-1!==(o=St.call(this._longMonthsParse,s))?o:-1!==(o=St.call(this._shortMonthsParse,s))?o:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=m([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},ln.monthsRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||Rt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=jt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},ln.monthsShortRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||Rt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Nt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},ln.week=function(t){return Gt(t,this._week.dow,this._week.doy).week},ln.firstDayOfYear=function(){return this._week.doy},ln.firstDayOfWeek=function(){return this._week.dow},ln.weekdays=function(t,e){return t?a(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone},ln.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},ln.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},ln.weekdaysParse=function(t,e,n){var r,o,i;if(this._weekdaysParseExact)return function(t,e,n){var r,o,i,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=m([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=St.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=St.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=St.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=St.call(this._weekdaysParse,s))?o:-1!==(o=St.call(this._shortWeekdaysParse,s))?o:-1!==(o=St.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=St.call(this._shortWeekdaysParse,s))?o:-1!==(o=St.call(this._weekdaysParse,s))?o:-1!==(o=St.call(this._minWeekdaysParse,s))?o:null:-1!==(o=St.call(this._minWeekdaysParse,s))?o:-1!==(o=St.call(this._weekdaysParse,s))?o:-1!==(o=St.call(this._shortWeekdaysParse,s))?o:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=m([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},ln.weekdaysRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Bt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},ln.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=zt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ln.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ln.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},ln.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},ae("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===A(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),f.lang=n("moment.lang is deprecated. Use moment.locale instead.",ae),f.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ce);var pn=Math.abs;function mn(t,e,n,r){var o=We(e,n);return t._milliseconds+=r*o._milliseconds,t._days+=r*o._days,t._months+=r*o._months,t._bubble()}function yn(t){return t<0?Math.floor(t):Math.ceil(t)}function gn(t){return 4800*t/146097}function vn(t){return 146097*t/4800}function wn(t){return function(){return this.as(t)}}var bn=wn("ms"),On=wn("s"),kn=wn("m"),An=wn("h"),Sn=wn("d"),Tn=wn("w"),En=wn("M"),Mn=wn("y");function Dn(t){return function(){return this.isValid()?this._data[t]:NaN}}var xn=Dn("milliseconds"),Yn=Dn("seconds"),Pn=Dn("minutes"),Cn=Dn("hours"),In=Dn("days"),Ln=Dn("months"),Nn=Dn("years");var jn=Math.round,Rn={ss:44,s:45,m:45,h:22,d:26,M:11};var Fn=Math.abs;function Un(t){return(0<t)-(t<0)||+t}function Hn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Fn(this._milliseconds)/1e3,r=Fn(this._days),o=Fn(this._months);e=k((t=k(n/60))/60),n%=60,t%=60;var i=k(o/12),s=o%=12,a=r,u=e,c=t,h=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=this.asSeconds();if(!l)return"P0D";var f=l<0?"-":"",_=Un(this._months)!==Un(l)?"-":"",d=Un(this._days)!==Un(l)?"-":"",p=Un(this._milliseconds)!==Un(l)?"-":"";return f+"P"+(i?_+i+"Y":"")+(s?_+s+"M":"")+(a?d+a+"D":"")+(u||c||h?"T":"")+(u?p+u+"H":"")+(c?p+c+"M":"")+(h?p+h+"S":"")}var Gn=Pe.prototype;return Gn.isValid=function(){return this._isValid},Gn.abs=function(){var t=this._data;return this._milliseconds=pn(this._milliseconds),this._days=pn(this._days),this._months=pn(this._months),t.milliseconds=pn(t.milliseconds),t.seconds=pn(t.seconds),t.minutes=pn(t.minutes),t.hours=pn(t.hours),t.months=pn(t.months),t.years=pn(t.years),this},Gn.add=function(t,e){return mn(this,t,e,1)},Gn.subtract=function(t,e){return mn(this,t,e,-1)},Gn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=C(t))||"year"===t)return e=this._days+r/864e5,n=this._months+gn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(vn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Gn.asMilliseconds=bn,Gn.asSeconds=On,Gn.asMinutes=kn,Gn.asHours=An,Gn.asDays=Sn,Gn.asWeeks=Tn,Gn.asMonths=En,Gn.asYears=Mn,Gn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12):NaN},Gn._bubble=function(){var t,e,n,r,o,i=this._milliseconds,s=this._days,a=this._months,u=this._data;return 0<=i&&0<=s&&0<=a||i<=0&&s<=0&&a<=0||(i+=864e5*yn(vn(a)+s),a=s=0),u.milliseconds=i%1e3,t=k(i/1e3),u.seconds=t%60,e=k(t/60),u.minutes=e%60,n=k(e/60),u.hours=n%24,a+=o=k(gn(s+=k(n/24))),s-=yn(vn(o)),r=k(a/12),a%=12,u.days=s,u.months=a,u.years=r,this},Gn.clone=function(){return We(this)},Gn.get=function(t){return t=C(t),this.isValid()?this[t+"s"]():NaN},Gn.milliseconds=xn,Gn.seconds=Yn,Gn.minutes=Pn,Gn.hours=Cn,Gn.days=In,Gn.weeks=function(){return k(this.days()/7)},Gn.months=Ln,Gn.years=Nn,Gn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,r,o,i,s,a,u,c,h,l,f=this.localeData(),_=(n=!t,r=f,o=We(e=this).abs(),i=jn(o.as("s")),s=jn(o.as("m")),a=jn(o.as("h")),u=jn(o.as("d")),c=jn(o.as("M")),h=jn(o.as("y")),(l=i<=Rn.ss&&["s",i]||i<Rn.s&&["ss",i]||s<=1&&["m"]||s<Rn.m&&["mm",s]||a<=1&&["h"]||a<Rn.h&&["hh",a]||u<=1&&["d"]||u<Rn.d&&["dd",u]||c<=1&&["M"]||c<Rn.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=n,l[3]=0<+e,l[4]=r,function(t,e,n,r,o){return o.relativeTime(e||1,!!n,t,r)}.apply(null,l));return t&&(_=f.pastFuture(+this,_)),f.postformat(_)},Gn.toISOString=Hn,Gn.toString=Hn,Gn.toJSON=Hn,Gn.locale=Ze,Gn.localeData=Xe,Gn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hn),Gn.lang=Ke,G("X",0,0,"unix"),G("x",0,0,"valueOf"),ut("x",rt),ut("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),ft("x",function(t,e,n){n._d=new Date(A(t))}),f.version="2.22.1",t=Ee,f.fn=cn,f.min=function(){return xe("isBefore",[].slice.call(arguments,0))},f.max=function(){return xe("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=m,f.unix=function(t){return Ee(1e3*t)},f.months=function(t,e){return _n(t,e,"months")},f.isDate=l,f.locale=ae,f.invalid=v,f.duration=We,f.isMoment=O,f.weekdays=function(t,e,n){return dn(t,e,n,"weekdays")},f.parseZone=function(){return Ee.apply(null,arguments).parseZone()},f.localeData=ce,f.isDuration=Ce,f.monthsShort=function(t,e){return _n(t,e,"monthsShort")},f.weekdaysMin=function(t,e,n){return dn(t,e,n,"weekdaysMin")},f.defineLocale=ue,f.updateLocale=function(t,e){if(null!=e){var n,r,o=ne;null!=(r=se(t))&&(o=r._config),(n=new x(e=D(o,e))).parentLocale=re[t],re[t]=n,ae(t)}else null!=re[t]&&(null!=re[t].parentLocale?re[t]=re[t].parentLocale:null!=re[t]&&delete re[t]);return re[t]},f.locales=function(){return r(re)},f.weekdaysShort=function(t,e,n){return dn(t,e,n,"weekdaysShort")},f.normalizeUnits=C,f.relativeTimeRounding=function(t){return void 0===t?jn:"function"==typeof t&&(jn=t,!0)},f.relativeTimeThreshold=function(t,e){return void 0!==Rn[t]&&(void 0===e?Rn[t]:(Rn[t]=e,"s"===t&&(Rn.ss=e-1),!0))},f.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},f.prototype=cn,f.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},f}),function(u,t,n){"use strict";var r={},e=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,c=/%/g,o=/_/g,i=/^(?:AND|OR|NOT)$/i,h=/^(?:!?=|<=?|>=?)$/i;function m(t){var e,n=[];if(void 0!==t){for(Array.isArray(t)||(t=[t]),e=0;e<t.length;e+=1)"object"==typeof t[e]?n[e]=t[e].content:n[e]=t[e];return n}}function s(t,e,n){if(!Array.isArray(t))throw new TypeError("jioquery.sortOn(): Argument 1 is not of type 'array'");return e.sort(function _(d,p){return function(t,e){var n,r,o,i,s,a,u,c,h,l=p[0][0],f=p[0][1];if("descending"===f)n=1;else{if("ascending"!==f)throw new TypeError("Query.sortFunction(): Argument 2 must be 'ascending' or 'descending'");n=-1}if(void 0!==d&&void 0!==d.key_set&&void 0!==d.key_set[l]&&void 0!==d.key_set[l].cast_to)return u=(r="string"==typeof d.key_set[l].cast_to?d.cast_lookup[d.key_set[l].cast_to]:d.key_set[l].cast_to)(t[l]),"function"==typeof(c=r(e[l])).cmp?0!=(h=n*c.cmp(u))?h:1<p.length?_(d,p.slice(1))(t,e):h:c<u?-n:u<c?n:1<p.length?_(d,p.slice(1))(t,e):0;for(s=m(t[l])||[],a=m(e[l])||[],i=Math.max(s.length,a.length),o=0;o<i;o+=1){if(void 0===s[o])return n;if(void 0===a[o])return-n;if(s[o]>a[o])return-n;if(s[o]<a[o])return n}return 1<p.length?_(d,p.slice(1))(t,e):0}}(n,t)),e}function a(t){!function(t){var e;if(void 0!==t){if("object"!=typeof t)throw new TypeError("Query().create(): key_schema is not of type 'object'");if(void 0===t.key_set)throw new TypeError("Query().create(): key_schema has no 'key_set' property");for(e in t)if(t.hasOwnProperty(e))switch(e){case"key_set":case"cast_lookup":case"match_lookup":break;default:throw new TypeError("Query().create(): key_schema has unknown property '"+e+"'")}}}(t),this._key_schema=t||{}}function l(){}function f(t){return t.replace(e,"\\$&")}function _(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{configurable:!0,enumerable:!1,writable:!0,value:t}})}function d(t,e){if("string"!=typeof t)throw new TypeError("jioquery.searchTextToRegExp(): Argument 1 is not of type 'string'");return!1===e?new RegExp("^"+f(t)+"$"):new RegExp("^"+f(t).replace(c,"[\\s\\S]*").replace(o,".")+"$","i")}function p(t,e){a.call(this,e),this.operator=t.operator,this.query_list=t.query_list||[],this.query_list=this.query_list.map(function(t){return l.create(t,e)})}function y(t,e){a.call(this,e),this.operator=t.operator,this.key=t.key,this.value=t.value}a.prototype.exec=function(t,e){if(!Array.isArray(t))throw new TypeError("Query().exec(): Argument 1 is not of type 'array'");if(void 0===e&&(e={}),"object"!=typeof e)throw new TypeError("Query().exec(): Optional argument 2 is not of type 'object'");var n;for(n=t.length-1;0<=n;n-=1)this.match(t[n])||t.splice(n,1);return e.sort_on&&s(e.sort_on,t,this._key_schema),e.limit&&function(t,e){if(!Array.isArray(t))throw new TypeError("jioquery.limit(): Argument 1 is not of type 'array'");if(!Array.isArray(e))throw new TypeError("jioquery.limit(): Argument 2 is not of type 'array'");e.splice(0,t[0]),t[1]&&e.splice(t[1])}(e.limit,t),function(t,e){var n,r,o;if(!Array.isArray(t))throw new TypeError("jioquery.select(): Argument 1 is not of type Array");if(!Array.isArray(e))throw new TypeError("jioquery.select(): Argument 2 is not of type Array");for(n=0;n<e.length;n+=1){for(o={},r=0;r<t.length;r+=1)e[n].hasOwnProperty([t[r]])&&(o[t[r]]=e[n][t[r]]);for(r in o)if(o.hasOwnProperty(r)){e[n]=o;break}}}(e.select_list||[],t),(new u.Queue).push(function(){return t})},a.prototype.match=function(){return!0},a.prototype.parse=function(t){var e,a=this;return e={parsed:JSON.parse(JSON.stringify(a.serialized()))},(new u.Queue).push(function(){return a.onParseStart(e,t)}).push(function(){return function e(n,r){var t,o=n.parsed,i=new u.Queue;function s(t){i.push(function(){return n.parsed=o.query_list[t],e(n,r)}).push(function(){o.query_list[t]=n.parsed})}if("complex"===o.type){for(t=0;t<o.query_list.length;t+=1)s(t);return i.push(function(){return n.parsed=o,a.onParseComplexQuery(n,r)})}if("simple"===o.type)return a.onParseSimpleQuery(n,r)}(e,t)}).push(function(){return a.onParseEnd(e,t)}).push(function(){return e.parsed})},a.prototype.toString=function(){return""},a.prototype.serialized=function(){},_(p,a),p.prototype.operator="AND",p.prototype.type="complex",p.prototype.match=function(t){var e=this.operator;return i.test(e)||(e="AND"),this[e.toUpperCase()](t)},p.prototype.toString=function(){var e=[],n=this.operator;return"NOT"===this.operator?(e.push("NOT ("),e.push(this.query_list[0].toString()),e.push(")")):(this.query_list.forEach(function(t){e.push("("),e.push(t.toString()),e.push(")"),e.push(n)}),e.length-=1),e.join(" ")},p.prototype.toJSON=p.prototype.serialized=function(){var e={type:"complex",operator:this.operator,query_list:[]};return this.query_list.forEach(function(t){e.query_list.push("function"==typeof t.toJSON?t.toJSON():t)}),e},p.prototype.AND=function(t){for(var e=!0,n=0;e&&n!==this.query_list.length;)e=this.query_list[n].match(t),n+=1;return e},p.prototype.OR=function(t){for(var e=!1,n=0;!e&&n!==this.query_list.length;)e=this.query_list[n].match(t),n+=1;return e},p.prototype.NOT=function(t){return!this.query_list[0].match(t)},l.create=function(t,e){if(""===t)return new a(e);if("string"==typeof t&&(t=n(t)),"string"==typeof(t||{}).type&&r[t.type])return new r[t.type](t,e);throw new TypeError("QueryFactory.create(): Argument 1 is not a search text or a parsable object")},_(y,a),y.prototype.type="simple",y.prototype.match=function(t){var e,n=null,r=null,o=null,i=null,s=this.operator,a=null,u=this.key;if(h.test(s)||(s=c.test(this.value)?"like":"="),i=this[s],this._key_schema.key_set&&void 0!==this._key_schema.key_set[u]&&(u=this._key_schema.key_set[u]),""===u){for(e in i=this.like,a="%"+this.value+"%",t)if(t.hasOwnProperty(e)&&"__id"!==e&&t[e]&&!0===i(t[e],a))return!0;return!1}if("object"==typeof u){if(function(t){var e;if(void 0===t.read_from)throw new TypeError("Custom key is missing the read_from property");for(e in t)if(t.hasOwnProperty(e))switch(e){case"read_from":case"cast_to":case"equal_match":break;default:throw new TypeError("Custom key has unknown property '"+e+"'")}}(u),n=t[u.read_from],"string"==typeof(r=u.equal_match)&&(r=this._key_schema.match_lookup[r]),void 0!==r&&(i="="===s||"like"===s?r:i),a=this.value,o=u.cast_to){"string"==typeof o&&(o=this._key_schema.cast_lookup[o]);try{a=o(a)}catch(t){a=void 0}try{n=o(n)}catch(t){n=void 0}}}else n=t[u],a=this.value;return void 0!==n&&void 0!==a&&i(n,a)},y.prototype.toString=function(){return(this.key?this.key+":":"")+(this.operator?" "+this.operator:"")+' "'+this.value+'"'},y.prototype.toJSON=y.prototype.serialized=function(){var t={type:"simple",key:this.key,value:this.value};return void 0!==this.operator&&(t.operator=this.operator),t},y.prototype["="]=function(t,e){var n,r;for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r+=1){if("object"==typeof(n=t[r])&&n.hasOwnProperty("content")&&(n=n.content),"function"==typeof n.cmp)return 0===n.cmp(e);if(e.toString()===n.toString())return!0}return!1},y.prototype.like=function(t,e){var n,r;for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r+=1){if("object"==typeof(n=t[r])&&n.hasOwnProperty("content")&&(n=n.content),"function"==typeof n.cmp)return 0===n.cmp(e);if(d(e.toString()).test(n.toString()))return!0}return!1},y.prototype["!="]=function(t,e){var n,r;for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r+=1){if("object"==typeof(n=t[r])&&n.hasOwnProperty("content")&&(n=n.content),"function"==typeof n.cmp)return 0!==n.cmp(e);if(e.toString()===n.toString())return!1}return!0},y.prototype["<"]=function(t,e){var n;return Array.isArray(t)||(t=[t]),"object"==typeof(n=t[0])&&n.hasOwnProperty("content")&&(n=n.content),"function"==typeof n.cmp?n.cmp(e)<0:n<e},y.prototype["<="]=function(t,e){var n;return Array.isArray(t)||(t=[t]),"object"==typeof(n=t[0])&&n.hasOwnProperty("content")&&(n=n.content),"function"==typeof n.cmp?n.cmp(e)<=0:n<=e},y.prototype[">"]=function(t,e){var n;return Array.isArray(t)||(t=[t]),"object"==typeof(n=t[0])&&n.hasOwnProperty("content")&&(n=n.content),"function"==typeof n.cmp?0<n.cmp(e):e<n},y.prototype[">="]=function(t,e){var n;return Array.isArray(t)||(t=[t]),"object"==typeof(n=t[0])&&n.hasOwnProperty("content")&&(n=n.content),"function"==typeof n.cmp?0<=n.cmp(e):e<=n},r.simple=y,r.complex=p,a.parseStringToObject=n,a.objectToSearchText=function e(n){var r=[];if("complex"===n.type)return r.push("("),(n.query_list||[]).forEach(function(t){r.push(e(t)),r.push(n.operator)}),r.length-=1,r.push(")"),r.join(" ");if("simple"===n.type)return(n.key?n.key+": ":"")+(n.operator||"")+' "'+n.value+'"';throw new TypeError("This object is not a query")},t.Query=a,t.SimpleQuery=y,t.ComplexQuery=p,t.QueryFactory=l}(RSVP,window,parseStringToObject),function(t,e){"use strict";var n,r="millisecond",s={year:0,month:1,day:2,hour:3,minute:4,second:5,millisecond:6};(n=function(t){if(!(this instanceof n))return new n(t);if(t instanceof n)return this.mom=t.mom.clone(),void(this._precision=t._precision);if(void 0===t)return this.mom=e(),void this.setPrecision(r);if(this.mom=null,(this._str=t).match(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+\-][0-2]\d:[0-5]\d|Z)/)||t.match(/\d\d\d\d-\d\d-\d\d \d\d:\d\d:\d\d\.\d\d\d/)?(this.mom=e(t),this.setPrecision(r)):t.match(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+\-][0-2]\d:[0-5]\d|Z)/)||t.match(/\d\d\d\d-\d\d-\d\d \d\d:\d\d:\d\d/)?(this.mom=e(t),this.setPrecision("second")):t.match(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+\-][0-2]\d:[0-5]\d|Z)/)||t.match(/\d\d\d\d-\d\d-\d\d \d\d:\d\d/)?(this.mom=e(t),this.setPrecision("minute")):t.match(/\d\d\d\d-\d\d-\d\d \d\d/)?(this.mom=e(t),this.setPrecision("hour")):t.match(/\d\d\d\d-\d\d-\d\d/)?(this.mom=e(t),this.setPrecision("day")):t.match(/\d\d\d\d-\d\d/)?(this.mom=e(t),this.setPrecision("month")):t.match(/\d\d\d\d/)&&(this.mom=e(t,"YYYY"),this.setPrecision("year")),!this.mom)throw new Error("Cannot parse: "+t)}).prototype.setPrecision=function(t){this._precision=t},n.prototype.getPrecision=function(){return this._precision},n.prototype.cmp=function(t){var e,n,r=this.mom,o=t.mom,i=(e=this._precision,n=t._precision,s[e]<s[n]?e:n);return r.isBefore(o,i)?-1:r.isSame(o,i)?0:1},n.prototype.toPrecisionString=function(t){var e;if(!(e={millisecond:"YYYY-MM-DD HH:mm:ss.SSS",second:"YYYY-MM-DD HH:mm:ss",minute:"YYYY-MM-DD HH:mm",hour:"YYYY-MM-DD HH",day:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"}[t=t||this._precision]))throw new TypeError("Unsupported precision value '"+t+"'");return this.mom.format(e)},n.prototype.toString=function(){return this._str},t.jiodate={JIODate:n,YEAR:"year",MONTH:"month",DAY:"day",HOUR:"hour",MIN:"minute",SEC:"second",MSEC:r}}(window,moment),function(t,i,s,e,n,a,u,c,h,r){"use strict";void 0===t.openDatabase&&(t.openDatabase=function(){throw new Error("WebSQL is not supported by "+r.userAgent)}),void 0===t.DOMError&&(t.DOMError={});var l,o={};function f(t,e){if(void 0!==t&&"string"!=typeof t)throw new TypeError("You must pass a string.");this.message=t||"Default Message",this.status_code=e||500}function _(t,e){var n,r=a(t),o=new c(r.length),i=new h(o);for(n=0;n<r.length;n+=1)i[n]=r.charCodeAt(n);return new s([o],{type:e})}function d(t,e,n){if("string"!=typeof t[0]||""===t[0])throw new l.util.jIOError("Document id must be a non empty string on '"+e.__type+"."+n+"'.",400)}function p(t,e,n){if("string"!=typeof t[1]||""===t[1])throw new l.util.jIOError("Attachment id must be a non empty string on '"+e.__type+"."+n+"'.",400)}function m(t,e,n){var r;try{r=t.apply(n,e)}catch(t){return(new i.Queue).push(function(){return i.reject(t)})}return r instanceof i.Queue?r:(new i.Queue).push(function(){return r})}function y(t,i,s,a){return t.prototype[i]=function(){var e,t,n,r=arguments,o=this;if(void 0!==s&&(e=s.apply(o.__storage,[r,o,i])),void 0===(t=o.__storage[i]))throw new l.util.jIOError("Capacity '"+i+"' is not implemented on '"+o.__type+"'",501);return n=m(t,r,o.__storage),void 0!==a&&n.push(function(t){return a.call(o,r,t,e)}),n},this}function g(t,e){if(!(this instanceof g))return new g;this.__type=t,this.__storage=e}function v(){if(!(this instanceof v))return new v;this.__storage_types={}}(f.prototype=new Error).constructor=f,o.jIOError=f,o.ajax=function(r){var o=new XMLHttpRequest;return new i.Promise(function(e,n){var t;if(o.open(r.type||"GET",r.url,!0),o.responseType=r.dataType||"","object"==typeof r.headers&&null!==r.headers)for(t in r.headers)r.headers.hasOwnProperty(t)&&o.setRequestHeader(t,r.headers[t]);if(o.addEventListener("load",function(t){if(400<=t.target.status)return n(t);e(t)}),o.addEventListener("error",n),"object"==typeof r.xhrFields&&null!==r.xhrFields)for(t in r.xhrFields)r.xhrFields.hasOwnProperty(t)&&(o[t]=r.xhrFields[t]);void 0!==r.timeout&&0!==r.timeout&&(o.timeout=r.timeout,o.ontimeout=function(){return n(new l.util.jIOError("Gateway Timeout",504))}),"function"==typeof r.beforeSend&&r.beforeSend(o),o.send(r.data)},function(){o.abort()})},o.readBlobAsText=function(n,r){var o=new u;return new i.Promise(function(t,e){o.addEventListener("load",t),o.addEventListener("error",e),o.readAsText(n,r)},function(){o.abort()})},o.readBlobAsArrayBuffer=function(n){var r=new u;return new i.Promise(function(t,e){r.addEventListener("load",t),r.addEventListener("error",e),r.readAsArrayBuffer(n)},function(){r.abort()})},o.readBlobAsDataURL=function(n){var r=new u;return new i.Promise(function(t,e){r.addEventListener("load",t),r.addEventListener("error",e),r.readAsDataURL(n)},function(){r.abort()})},o.stringify=function t(e){var n,r,o,i,s;if(void 0!==e){if(null===e)return"null";if(e.constructor===Object){for(r=Object.keys(e).sort(),s=[],o=0;o<r.length;o+=1)void 0!==(i=t(e[n=r[o]]))&&s.push(t(n)+":"+i);return"{"+s.join(",")+"}"}if(e.constructor===Array){for(s=[],o=0;o<e.length;o+=1)s.push(t(e[o]));return"["+s.join(",")+"]"}return JSON.stringify(e)}},o.base64toBlob=_,o.dataURItoBlob=function(t){if("data:"===t)return new s;var e=t.split(",")[0].split(":")[1];return e=e.slice(0,e.length-";base64".length),_(t.split(",")[1],e)},y(g,"put",d,function(t){return t[0]}),y(g,"get",d),y(g,"bulk"),y(g,"remove",d,function(t){return t[0]}),g.prototype.post=function(){var t=this,e=arguments;return m(function(){if(void 0===t.__storage.post)throw new l.util.jIOError("Capacity 'post' is not implemented on '"+t.__type+"'",501);return t.__storage.post.apply(t.__storage,e)})},y(g,"putAttachment",function(t,e,n){d(t,e,n),p(t,e,n);var r=t[3]||{};if("string"==typeof t[2])t[2]=new s([t[2]],{type:r._content_type||r._mimetype||"text/plain;charset=utf-8"});else if(!(t[2]instanceof s))throw new l.util.jIOError("Attachment content is not a blob",400)}),y(g,"removeAttachment",function(t,e,n){d(t,e,n),p(t,e,n)}),y(g,"getAttachment",function(t,e,n){var r="blob";return d(t,e,n),p(t,e,n),void 0!==t[2]&&(r=t[2].format||r,delete t[2].format),r},function(t,e,n){var r;if(!(e instanceof s))throw new l.util.jIOError("'getAttachment' ("+t[0]+" , "+t[1]+") on '"+this.__type+"' does not return a Blob.",501);if("blob"===n)r=e;else if("data_url"===n)r=(new i.Queue).push(function(){return l.util.readBlobAsDataURL(e)}).push(function(t){return t.target.result});else if("array_buffer"===n)r=(new i.Queue).push(function(){return l.util.readBlobAsArrayBuffer(e)}).push(function(t){return t.target.result});else if("text"===n)r=(new i.Queue).push(function(){return l.util.readBlobAsText(e)}).push(function(t){return t.target.result});else{if("json"!==n)throw new l.util.jIOError(this.__type+".getAttachment format: '"+n+"' is not supported",400);r=(new i.Queue).push(function(){return l.util.readBlobAsText(e)}).push(function(t){return JSON.parse(t.target.result)})}return r}),g.prototype.buildQuery=function(){var t=this.__storage.buildQuery,e=arguments;if(void 0===t)throw new l.util.jIOError("Capacity 'buildQuery' is not implemented on '"+this.__type+"'",501);return m(t,e,this.__storage)},g.prototype.hasCapacity=function(t){var e=this.__storage.hasCapacity;if(void 0!==this.__storage[t])return!0;if(void 0===e||!e.apply(this.__storage,arguments))throw new l.util.jIOError("Capacity '"+t+"' is not implemented on '"+this.__type+"'",501);return!0},g.prototype.allDocs=function(t){var e=this;return void 0===t&&(t={}),m(function(){if(e.hasCapacity("list")&&(void 0===t.query||e.hasCapacity("query"))&&(void 0===t.sort_on||e.hasCapacity("sort"))&&(void 0===t.select_list||e.hasCapacity("select"))&&(void 0===t.include_docs||e.hasCapacity("include"))&&(void 0===t.limit||e.hasCapacity("limit")))return e.buildQuery(t).push(function(t){return{data:{rows:t,total_rows:t.length}}})})},y(g,"allAttachments",d),y(g,"repair"),g.prototype.repair=function(){var t=this,e=arguments;return m(function(){if(void 0!==t.__storage.repair)return t.__storage.repair.apply(t.__storage,e)})},v.prototype.createJIO=function(t,e){if("string"!=typeof t.type)throw new TypeError("Invalid storage description");if(!this.__storage_types[t.type])throw new TypeError("Unknown storage '"+t.type+"'");return new g(t.type,new this.__storage_types[t.type](t,e))},v.prototype.addStorage=function(t,e){if("string"!=typeof t)throw new TypeError("jIO.addStorage(): Argument 1 is not of type 'string'");if("function"!=typeof e)throw new TypeError("jIO.addStorage(): Argument 2 is not of type 'function'");if(void 0!==this.__storage_types[t])throw new TypeError("jIO.addStorage(): Storage type already exists");this.__storage_types[t]=e},v.prototype.util=o,v.prototype.QueryFactory=e,v.prototype.Query=n,l=new v,t.jIO=l}(window,RSVP,Blob,QueryFactory,Query,atob,FileReader,ArrayBuffer,Uint8Array,navigator),function(){if("undefined"!=typeof module?module.exports=t:"undefined"!=typeof window&&(window.Rusha=t),"undefined"!=typeof FileReaderSync){var h=new FileReaderSync,r=new t(4194304);self.onmessage=function(e){var t,n=e.data.data;try{t=r.digest(n),self.postMessage({id:e.data.id,hash:t})}catch(t){self.postMessage({id:e.data.id,error:t.name})}}}var o={getDataType:function(t){if("string"==typeof t)return"string";if(t instanceof Array)return"array";if("undefined"!=typeof global&&global.Buffer&&global.Buffer.isBuffer(t))return"buffer";if(t instanceof ArrayBuffer)return"arraybuffer";if(t.buffer instanceof ArrayBuffer)return"view";if(t instanceof Blob)return"blob";throw new Error("Unsupported data type.")}};function t(t){"use strict";var p={fill:0},m=function(t){for(t+=9;0<t%64;t+=1);return t},e=function(t,e,n,r,o){var i,s=this,a=o%4,u=r%4,c=r-u;if(0<c)switch(a){case 0:t[o+3|0]=s[n];case 1:t[o+2|0]=s[n+1];case 2:t[o+1|0]=s[n+2];case 3:t[0|o]=s[n+3]}for(i=4-a;i<c;i=i+=4)e[o+i>>2]=s[n+i]<<24|s[n+i+1]<<16|s[n+i+2]<<8|s[n+i+3];switch(u){case 3:t[o+c+1|0]=s[n+c+2];case 2:t[o+c+2|0]=s[n+c+1];case 1:t[o+c+3|0]=s[n+c]}},y=function(t){switch(o.getDataType(t)){case"string":return function(t,e,n,r,o){var i,s=this,a=o%4,u=r%4,c=r-u;if(0<c)switch(a){case 0:t[o+3|0]=s.charCodeAt(n);case 1:t[o+2|0]=s.charCodeAt(n+1);case 2:t[o+1|0]=s.charCodeAt(n+2);case 3:t[0|o]=s.charCodeAt(n+3)}for(i=a;i<c;i=i+4|0)e[o+i>>2]=s.charCodeAt(n+i)<<24|s.charCodeAt(n+i+1)<<16|s.charCodeAt(n+i+2)<<8|s.charCodeAt(n+i+3);switch(u){case 3:t[o+c+1|0]=s.charCodeAt(n+c+2);case 2:t[o+c+2|0]=s.charCodeAt(n+c+1);case 1:t[o+c+3|0]=s.charCodeAt(n+c)}}.bind(t);case"array":case"buffer":return e.bind(t);case"arraybuffer":return e.bind(new Uint8Array(t));case"view":return e.bind(new Uint8Array(t.buffer,t.byteOffset,t.byteLength));case"blob":return function(t,e,n,r,o){var i,s=o%4,a=r%4,u=r-a,c=new Uint8Array(h.readAsArrayBuffer(this.slice(n,n+r)));if(0<u)switch(s){case 0:t[o+3|0]=c[0];case 1:t[o+2|0]=c[1];case 2:t[o+1|0]=c[2];case 3:t[0|o]=c[3]}for(i=4-s;i<u;i=i+=4)e[o+i>>2]=c[i]<<24|c[i+1]<<16|c[i+2]<<8|c[i+3];switch(a){case 3:t[o+u+1|0]=c[u+2];case 2:t[o+u+2|0]=c[u+1];case 1:t[o+u+3|0]=c[u]}}.bind(t)}};!function(t){if(0<t%64)throw new Error("Chunk size must be a multiple of 128 bit");p.maxChunkLen=t,p.padMaxChunkLen=m(t),p.heap=new ArrayBuffer(function(t){var e;if(t<=65536)return 65536;if(t<16777216)for(e=1;e<t;e<<=1);else for(e=16777216;e<t;e+=16777216);return e}(p.padMaxChunkLen+320+20)),p.h32=new Int32Array(p.heap),p.h8=new Int8Array(p.heap),p.core=function(t,e,n){"use asm";var m=new t.Int32Array(n);function r(t,e){t=t|0;e=e|0;var n=0,r=0,o=0,i=0,s=0,a=0,u=0,c=0,h=0,l=0,f=0,_=0,d=0,p=0;o=m[e+320>>2]|0;s=m[e+324>>2]|0;u=m[e+328>>2]|0;h=m[e+332>>2]|0;f=m[e+336>>2]|0;for(n=0;(n|0)<(t|0);n=n+64|0){i=o;a=s;c=u;l=h;_=f;for(r=0;(r|0)<64;r=r+4|0){p=m[n+r>>2]|0;d=((o<<5|o>>>27)+(s&u|~s&h)|0)+((p+f|0)+1518500249|0)|0;f=h;h=u;u=s<<30|s>>>2;s=o;o=d;m[t+r>>2]=p}for(r=t+64|0;(r|0)<(t+80|0);r=r+4|0){p=(m[r-12>>2]^m[r-32>>2]^m[r-56>>2]^m[r-64>>2])<<1|(m[r-12>>2]^m[r-32>>2]^m[r-56>>2]^m[r-64>>2])>>>31;d=((o<<5|o>>>27)+(s&u|~s&h)|0)+((p+f|0)+1518500249|0)|0;f=h;h=u;u=s<<30|s>>>2;s=o;o=d;m[r>>2]=p}for(r=t+80|0;(r|0)<(t+160|0);r=r+4|0){p=(m[r-12>>2]^m[r-32>>2]^m[r-56>>2]^m[r-64>>2])<<1|(m[r-12>>2]^m[r-32>>2]^m[r-56>>2]^m[r-64>>2])>>>31;d=((o<<5|o>>>27)+(s^u^h)|0)+((p+f|0)+1859775393|0)|0;f=h;h=u;u=s<<30|s>>>2;s=o;o=d;m[r>>2]=p}for(r=t+160|0;(r|0)<(t+240|0);r=r+4|0){p=(m[r-12>>2]^m[r-32>>2]^m[r-56>>2]^m[r-64>>2])<<1|(m[r-12>>2]^m[r-32>>2]^m[r-56>>2]^m[r-64>>2])>>>31;d=((o<<5|o>>>27)+(s&u|s&h|u&h)|0)+((p+f|0)-1894007588|0)|0;f=h;h=u;u=s<<30|s>>>2;s=o;o=d;m[r>>2]=p}for(r=t+240|0;(r|0)<(t+320|0);r=r+4|0){p=(m[r-12>>2]^m[r-32>>2]^m[r-56>>2]^m[r-64>>2])<<1|(m[r-12>>2]^m[r-32>>2]^m[r-56>>2]^m[r-64>>2])>>>31;d=((o<<5|o>>>27)+(s^u^h)|0)+((p+f|0)-899497514|0)|0;f=h;h=u;u=s<<30|s>>>2;s=o;o=d;m[r>>2]=p}o=o+i|0;s=s+a|0;u=u+c|0;h=h+l|0;f=f+_|0}m[e+320>>2]=o;m[e+324>>2]=s;m[e+328>>2]=u;m[e+332>>2]=h;m[e+336>>2]=f}return{hash:r}}({Int32Array:Int32Array,DataView:DataView},{},p.heap),p.buffer=null}(t||65536);var f=function(t,e,n,r,o){var i,s,a,u,c,h,l,f,_,d=n;o&&(s=r,h=m(i=n),function(t,e){for(var n=e>>2;n<t.length;n++)t[n]=0}(l=new Int32Array(p.heap,0,h>>2),i),c=s,(a=l)[(u=i)>>2]|=128<<24-(u%4<<3),a[14+(2+(u>>2)&-16)]=c>>29,a[15+(2+(u>>2)&-16)]=c<<3,d=h),f=e,_=n,y(t)(p.h8,p.h32,f,_,0),p.core.hash(d,p.padMaxChunkLen)},n=this.rawDigest=function(t){var e,n,r,o=t.byteLength||t.length||t.size||0;e=p.heap,n=p.padMaxChunkLen,(r=new Int32Array(e,n+320,5))[0]=1732584193,r[1]=-271733879,r[2]=-1732584194,r[3]=271733878,r[4]=-1009589776;var i,s,a,u,c,h=0,l=p.maxChunkLen;for(h=0;h+l<o;h+=l)f(t,h,l,o,!1);return f(t,h,o-h,o,!0),i=p.heap,s=p.padMaxChunkLen,a=new Int32Array(i,s+320,5),u=new Int32Array(5),(c=new DataView(u.buffer)).setInt32(0,a[0],!1),c.setInt32(4,a[1],!1),c.setInt32(8,a[2],!1),c.setInt32(12,a[3],!1),c.setInt32(16,a[4],!1),u};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function(t){return function(t){var e,n,r="0123456789abcdef",o=[],i=new Uint8Array(t);for(e=0;e<i.length;e++)n=i[e],o[e]=r.charAt(n>>4&15)+r.charAt(n>>0&15);return o.join("")}(n(t).buffer)}}}(),function(g,A,t,v){"use strict";var e=new t,u=1,c=2,h=3,w=0,b=74,a=49,l=47,p=75,d=116,f=136,_=117,m=137,y=118,O=138,k=119,S=139,T=216,E=226,M=236,D=217,x=237,Y=218,P=228,C=238,I=219,L=239,N=284,j=285,R=349,F=359,U=369,H=347,G=357,W=367,V=374,Q=375,q=384,B=385;function r(t,e){this._list=[],this.name="ReplicateReport",this.message=this.name,this.has_error=!1,this._log_level=t,this._log_console=e}function z(t){if(void 0!==t&&"string"!=typeof t)throw new TypeError("You must pass a string.");this.message=t||"Skip some asynchronous code"}function J(t){return e.digestFromString(t)}function $(t){return e.digestFromArrayBuffer(t)}function n(t){if(this._query_options=t.query||{},this._log_level=t.report_level||100,this._log_console=t.debug||!1,void 0!==t.signature_hash_key&&(this._query_options.select_list=[t.signature_hash_key]),this._signature_hash_key=t.signature_hash_key,this._local_sub_storage=g.createJIO(t.local_sub_storage),this._remote_sub_storage=g.createJIO(t.remote_sub_storage),t.hasOwnProperty("signature_sub_storage")?(this._signature_sub_storage=g.createJIO(t.signature_sub_storage),this._custom_signature_sub_storage=!0):(this._signature_hash="_replicate_"+J(v(t.local_sub_storage)+v(t.remote_sub_storage)+v(this._query_options)),this._signature_sub_storage=g.createJIO({type:"query",sub_storage:{type:"document",document_id:this._signature_hash,sub_storage:t.local_sub_storage}}),this._custom_signature_sub_storage=!1),this._use_remote_post=t.use_remote_post||!1,this._parallel_operation_attachment_amount=t.parallel_operation_attachment_amount||1,this._parallel_operation_amount=t.parallel_operation_amount||1,this._conflict_handling=t.conflict_handling||0,0!==this._conflict_handling&&this._conflict_handling!==u&&this._conflict_handling!==c&&this._conflict_handling!==h)throw new g.util.jIOError("Unsupported conflict handling: "+this._conflict_handling,400);this._check_local_modification=t.check_local_modification,void 0===this._check_local_modification&&(this._check_local_modification=!0),this._check_local_creation=t.check_local_creation,void 0===this._check_local_creation&&(this._check_local_creation=!0),this._check_local_deletion=t.check_local_deletion,void 0===this._check_local_deletion&&(this._check_local_deletion=!0),this._check_remote_modification=t.check_remote_modification,void 0===this._check_remote_modification&&(this._check_remote_modification=!0),this._check_remote_creation=t.check_remote_creation,void 0===this._check_remote_creation&&(this._check_remote_creation=!0),this._check_remote_deletion=t.check_remote_deletion,void 0===this._check_remote_deletion&&(this._check_remote_deletion=!0),this._check_local_attachment_modification=t.check_local_attachment_modification,void 0===this._check_local_attachment_modification&&(this._check_local_attachment_modification=!1),this._check_local_attachment_creation=t.check_local_attachment_creation,void 0===this._check_local_attachment_creation&&(this._check_local_attachment_creation=!1),this._check_local_attachment_deletion=t.check_local_attachment_deletion,void 0===this._check_local_attachment_deletion&&(this._check_local_attachment_deletion=!1),this._check_remote_attachment_modification=t.check_remote_attachment_modification,void 0===this._check_remote_attachment_modification&&(this._check_remote_attachment_modification=!1),this._check_remote_attachment_creation=t.check_remote_attachment_creation,void 0===this._check_remote_attachment_creation&&(this._check_remote_attachment_creation=!1),this._check_remote_attachment_deletion=t.check_remote_attachment_deletion,void 0===this._check_remote_attachment_deletion&&(this._check_remote_attachment_deletion=!1)}function Z(r,o,i,t){var e,n=[];function s(n){n.push(function(){if(0<i.length){var t=i.shift(),e=new A.Queue;return t[0]=e,o.apply(r,t),s(n),e}})}for(e=0;e<t;e+=1)n.push(new A.Queue),s(n[e]);return 1<t?A.all(n):n[0]}function K(t,e,r,o){return(new A.Queue).push(function(){if(!r.hasOwnProperty(o))return e.allDocs(t._query_options).push(function(t){var e,n={};for(e=0;e<t.data.total_rows;e+=1)n[t.data.rows[e].id]=t.data.rows[e].value;r[o]=n})}).push(function(){return r[o]})}function X(t,e,n,r,o,i,s){return o?s.logAttachment(n,r,i?m:S):s.logAttachment(n,r,i?x:L),e.removeAttachment(n,r).push(function(){return t._signature_sub_storage.removeAttachment(n,r)})}function tt(t,e,n,r,o,i,s,a,u){return a?u.logAttachment(o,i,s?_:k):u.logAttachment(o,i,s?D:I),e.putAttachment(o,i,n).push(function(){return t._signature_sub_storage.putAttachment(o,i,JSON.stringify({hash:r}))})}function et(e,t,n,r,o,i,s,a,u,c,h,l,f,_){var d;return t[u]=null,s.getAttachment(a,u).push(function(t){return d=t,g.util.readBlobAsArrayBuffer(d)}).push(function(t){return $(t.target.result)},function(t){if(t instanceof g.util.jIOError&&404===t.status_code)return d=null;throw t}).push(function(t){return r===t?(_.logAttachment(a,u,j),null===r?e._signature_sub_storage.removeAttachment(a,u):e._signature_sub_storage.putAttachment(a,u,JSON.stringify({hash:r}))):t===n||!0===c?null===r?X(e,s,a,u,t!==n,f,_):tt(e,s,o,r,a,u,f,t!==n,_):!0!==l?!0===h||null===r?null===t?X(e,i,a,u,r!==n,!f,_):tt(e,i,d,t,a,u,!f,r!==n,_):null===t?tt(e,s,o,r,a,u,f,!1,_):void _.logAttachment(a,u,p):void _.logAttachment(a,u,Q)}).push(void 0,function(t){_.logAttachment(a,u,w,t)})}function nt(t,n,r,o,i,s,a,u,c,h,e,l,f,_){var d,p;t.push(function(){if(!0===e)return A.all([o.getAttachment(s,a),{hash:null}]);if(!0===l)return A.all([o.getAttachment(s,a),n._signature_sub_storage.getAttachment(s,a,{format:"json"})]);throw new g.util.jIOError("Unexpected call of checkAttachmentSignatureDifference",409)}).push(function(t){return d=t[0],p=t[1].hash,g.util.readBlobAsArrayBuffer(d)}).push(function(t){var e=$(t.target.result);if(e!==p)return et(n,r,p,e,d,o,i,s,a,u,c,h,f,_);f||_.logAttachment(s,a,B)})}function o(t,e,n,r,o,i,s,a,u,c,h,l){var f;t.push(function(){return e._signature_sub_storage.getAttachment(o,i,{format:"json"})}).push(function(t){return f=t.hash,et(e,n,f,null,null,s,r,o,i,a,u,c,h,l)})}function rt(i,s,a,u,c,h,l,f){var _={},d={},p=f.from_local;return u.allAttachments(a).push(void 0,function(t){if(t instanceof g.util.jIOError&&404===t.status_code)return{};throw t}).push(function(t){var e,n,r,o=[];for(r in t)t.hasOwnProperty(r)&&(s.hasOwnProperty(r)||(_[r]=null));for(r in h)h.hasOwnProperty(r)&&(s.hasOwnProperty(r)||(d[r]=null));for(r in _)_.hasOwnProperty(r)&&(e=d.hasOwnProperty(r)&&f.check_modification,n=!d.hasOwnProperty(r)&&f.check_creation,!0===e||!0===n?o.push([void 0,i,s,u,c,a,r,f.conflict_force,f.conflict_revert,f.conflict_ignore,n,e,p,l]):d.hasOwnProperty(r)?l.logAttachment(a,r,p?F:G):l.logAttachment(a,r,p?R:H));return Z(i,nt,o,i._parallel_operation_attachment_amount)}).push(function(){var t,e=[];for(t in d)d.hasOwnProperty(t)&&(_.hasOwnProperty(t)||(!0===f.check_deletion?e.push([void 0,i,s,c,a,t,u,f.conflict_force,f.conflict_revert,f.conflict_ignore,p,l]):l.logAttachment(a,t,p?U:W)));return Z(i,o,e,i._parallel_operation_attachment_amount)})}function ot(t,e,n,r,o,i,s){return s.logAttachment(e,n,i?x:L),t.push(function(){return r.removeAttachment(e,n)}).push(function(){return o.removeAttachment(e,n)})}function it(t,e,n,r,o){return o.logAttachment(e,n,j),t.push(function(){return r.removeAttachment(e,n)})}function st(t,e,n,r,o,i,s,a,u){return t.push(function(){return i.getAttachment(e,n,{format:"json"}).push(void 0,function(t){if(t instanceof g.util.jIOError&&404===t.status_code)return{hash:null};throw t}).push(function(t){if(t.hash!==s)return u.logAttachment(e,n,a?D:I),r.getAttachment(e,n).push(function(t){return o.putAttachment(e,n,t)}).push(function(){return i.putAttachment(e,n,JSON.stringify({hash:s}))})})})}function at(e,n,r,t,o,i,s){if(void 0!==t)return function(v,w,b,t,O,k){if(b!==t)return(new A.Queue).push(function(){return A.all([v._signature_sub_storage.allAttachments(w),v._local_sub_storage.allAttachments(w),v._remote_sub_storage.allAttachments(w)])}).push(function(t){var e,n,r,o,i,s,a=[],u=[],c=[],h=t[0],l=t[1],f=t[2],_=v._check_local_attachment_modification,d=v._check_local_attachment_creation,p=v._check_local_attachment_deletion,m=v._check_remote_attachment_modification,y=v._check_remote_attachment_creation,g=v._check_remote_attachment_deletion;for(e in O?(n=l,r=f,o=v._local_sub_storage,i=v._remote_sub_storage,s=!0):(n=f,r=l,o=v._remote_sub_storage,i=v._local_sub_storage,_=m,y=d=y,g=p=g,s=!1),n)n.hasOwnProperty(e)&&(d&&!h.hasOwnProperty(e)||_&&h.hasOwnProperty(e)?a.push([void 0,w,e,o,i,v._signature_sub_storage,b,s,k]):h.hasOwnProperty(e)?k.logAttachment(w,e,s?F:G):k.logAttachment(w,e,s?R:H));for(e in h)h.hasOwnProperty(e)&&(!p||n.hasOwnProperty(e)||r.hasOwnProperty(e)||c.push([void 0,w,e,v._signature_sub_storage,k]));for(e in r)r.hasOwnProperty(e)&&(n.hasOwnProperty(e)||(p&&h.hasOwnProperty(e)||y&&!h.hasOwnProperty(e)?u.push([void 0,w,e,i,v._signature_sub_storage,s,k]):h.hasOwnProperty(e)?k.logAttachment(w,e,s?U:W):k.logAttachment(w,e,s?R:H)));return A.all([Z(v,st,a,v._parallel_operation_attachment_amount),Z(v,ot,u,v._parallel_operation_attachment_amount),Z(v,it,c,v._parallel_operation_attachment_amount)])}).push(function(){return v._signature_sub_storage.put(w,{hash:b,attachment_hash:b,from_local:O})})}(e,n,o,i,s,r);var a={};return(new A.Queue).push(function(){return e._check_local_attachment_modification||e._check_local_attachment_creation||e._check_local_attachment_deletion||e._check_remote_attachment_modification||e._check_remote_attachment_creation||e._check_remote_attachment_deletion?e._signature_sub_storage.allAttachments(n):{}}).push(void 0,function(t){if(t instanceof g.util.jIOError&&404===t.status_code)return{};throw t}).push(function(t){return e._check_local_attachment_modification||e._check_local_attachment_creation||e._check_local_attachment_deletion?rt(e,a,n,e._local_sub_storage,e._remote_sub_storage,t,r,{conflict_force:e._conflict_handling===u,conflict_revert:e._conflict_handling===c,conflict_ignore:e._conflict_handling===h,check_modification:e._check_local_attachment_modification,check_creation:e._check_local_attachment_creation,check_deletion:e._check_local_attachment_deletion,from_local:!0}).push(function(){return t}):t}).push(function(t){if(e._check_remote_attachment_modification||e._check_remote_attachment_creation||e._check_remote_attachment_deletion)return rt(e,a,n,e._remote_sub_storage,e._local_sub_storage,t,r,{use_revert_post:e._use_remote_post,conflict_force:e._conflict_handling===c,conflict_revert:e._conflict_handling===u,conflict_ignore:e._conflict_handling===h,check_modification:e._check_remote_attachment_modification,check_creation:e._check_remote_attachment_creation,check_deletion:e._check_remote_attachment_deletion,from_local:!1})})}function ut(t,o,e,n,r,i,s,a,u,c){var h,l,f,_=new A.Queue;return void 0===c&&(c={}),l=c.from_local,f=c.conflict||!1,null===n&&_.push(function(){return o.get(i)}).push(function(t){n=t},function(t){if(t instanceof g.util.jIOError&&404===t.status_code)throw new z(i);throw t}),c.use_post?_.push(function(){return u.log(i,l?E:P),e.post(n)}).push(function(t){return h=t,o.put(h,n)}).push(function(){return o.allAttachments(i)}).push(function(t){var e,n=new A.Queue;function r(e){n.push(function(){return o.getAttachment(i,e)}).push(function(t){return o.putAttachment(h,e,t)})}for(e in t)t.hasOwnProperty(e)&&r(e);return n}).push(function(){return o.remove(i)}).push(function(){return t._signature_sub_storage.remove(i)}).push(function(){return t._signature_sub_storage.put(h,{hash:r,from_local:l})}).push(function(){s[h]=null}):_.push(function(){if(f?u.log(i,l?d:y):u.log(i,l?T:Y),!0===c.create_new_document)return delete a[i],t._signature_sub_storage.remove(i)}).push(function(){return e.put(i,n)}).push(function(){return t._signature_sub_storage.put(i,{hash:r,from_local:l})}),_.push(void 0,function(t){if(!(t instanceof z))throw t})}function ct(e,n,r,t,o,i){var s;return void 0!==e._signature_hash_key?(i.conflict?o.log(r,i.from_local?f:O):o.log(r,i.from_local?M:C),s=n.remove(r).push(function(){return e._signature_sub_storage.remove(r)})):s=at(e,r,o).push(function(){return n.allAttachments(r)}).push(function(t){if("{}"===JSON.stringify(t))return i.conflict?o.log(r,i.from_local?f:O):o.log(r,i.from_local?M:C),n.remove(r).push(function(){return e._signature_sub_storage.remove(r)});o.log(r,i.from_local?l:a)},function(t){if(!(t instanceof g.util.jIOError&&404===t.status_code))throw t}),s.push(function(){t[r]=null})}function ht(r,o,i,t,e,s,a,u,c,h,l,f,_,d,p,m){o[l]=null;var y=m.from_local;return(new A.Queue).push(function(){return void 0!==m.signature_hash_key?K(r,h,t,e).push(function(t){return t.hasOwnProperty(l)?[null,t[l][m.signature_hash_key]]:[null,null]}):h.get(l).push(function(t){return[t,J(v(t))]},function(t){if(t instanceof g.util.jIOError&&404===t.status_code)return[null,null];throw t})}).push(function(t){var e=t[0],n=t[1];return a===n?(p.log(l,N),null===a?r._signature_sub_storage.remove(l):r._signature_sub_storage.put(l,{hash:a,from_local:y})):n===s||!0===f?null===a?ct(r,h,l,i,p,{from_local:y,conflict:n!==s}):ut(r,c,h,u,a,l,o,i,p,{use_post:m.use_post&&null===n,conflict:n!==s,from_local:y,create_new_document:null===n&&null!==s}):!0!==d?!0===_||null===a?null===n?ct(r,c,l,i,p,{from_local:!y,conflict:null!==a}):ut(r,h,c,e,n,l,o,i,p,{use_post:m.use_revert_post&&null===a,from_local:!y,conflict:!0,create_new_document:null===a&&null!==s}):null===n?ut(r,c,h,u,a,l,o,i,p,{use_post:m.use_post,conflict:!0,from_local:y,create_new_document:null!==s}):void p.log(l,b):void p.log(l,V)}).push(void 0,function(t){p.log(l,w,t)})}function lt(t,e,n,r,o,i,s,a,u,c,h,l,f,_){var d;t.push(function(){return e._signature_sub_storage.get(a)}).push(function(t){return d=t.hash,ht(e,n,r,o,i,d,null,null,u,s,a,c,h,l,f,_)})}function ft(t,e,n,r,o,i,s,a,u,c,h,l,f,_,d,p){t.push(function(){return null===f?s.get(u):null}).push(function(t){if(null===f&&(f=J(v(t))),f!==_)return ht(e,n,r,o,i,_,f,t,s,a,u,c,h,l,d,p);p.from_local||d.log(u,q)})}function _t(h,l,f,_,t,d,p,m,y,g,v){var w=[],b=[];return v.hasOwnProperty("use_post")||(v.use_post=!1),v.hasOwnProperty("use_revert_post")||(v.use_revert_post=!1),K(h,p,_,t).push(function(t){var e,n,r,o,i,s,a={},u={},c=new A.Queue;for(s in t)t.hasOwnProperty(s)&&(l.hasOwnProperty(s)||(a[s]=t[s]));for(e=0;e<y.data.total_rows;e+=1)l.hasOwnProperty(y.data.rows[e].id)||(u[y.data.rows[e].id]=y.data.rows[e].value.hash);for(s in a)a.hasOwnProperty(s)&&(n=u.hasOwnProperty(s)&&v.check_modification,!0===(r=!u.hasOwnProperty(s)&&v.check_creation)?o=null:!0===n&&(o=u[s]),i=null,void 0!==v.signature_hash_key&&(i=a[s][v.signature_hash_key],!0===n&&(n=!1,i!==o&&(n=!0))),!0===n||!0===r?w.push([void 0,h,l,f,_,d,p,m,s,v.conflict_force,v.conflict_revert,v.conflict_ignore,i,o,g,v]):i===o?g.log(s,q):u.hasOwnProperty(s)?g.log(s,v.from_local?358:356):g.log(s,v.from_local?348:346));for(s in c.push(function(){return Z(h,ft,w,v.operation_amount)}),u)u.hasOwnProperty(s)&&(a.hasOwnProperty(s)||(!0===v.check_deletion?b.push([void 0,h,l,f,_,d,m,s,p,v.conflict_force,v.conflict_revert,v.conflict_ignore,g,v]):(g.log(s,v.from_local?368:366),f[s]=null)));return 0!==b.length&&c.push(function(){return Z(h,lt,b,v.operation_amount)}),c})}function dt(t,e,n,r,o,i,s,a){t.push(function(){return at(e,n,r,o,i,s,a)})}r.prototype={constructor:r,LOG_UNEXPECTED_ERROR:w,LOG_UNRESOLVED_CONFLICT:b,LOG_UNEXPECTED_LOCAL_ATTACHMENT:a,LOG_UNEXPECTED_REMOTE_ATTACHMENT:l,LOG_UNRESOLVED_ATTACHMENT_CONFLICT:p,LOG_FORCE_PUT_REMOTE:d,LOG_FORCE_DELETE_REMOTE:f,LOG_FORCE_PUT_LOCAL:y,LOG_FORCE_DELETE_LOCAL:O,LOG_FORCE_PUT_REMOTE_ATTACHMENT:_,LOG_FORCE_DELETE_REMOTE_ATTACHMENT:m,LOG_FORCE_PUT_LOCAL_ATTACHMENT:k,LOG_FORCE_DELETE_LOCAL_ATTACHMENT:S,LOG_PUT_REMOTE:T,LOG_POST_REMOTE:E,LOG_DELETE_REMOTE:M,LOG_PUT_REMOTE_ATTACHMENT:D,LOG_DELETE_REMOTE_ATTACHMENT:x,LOG_PUT_LOCAL:Y,LOG_DELETE_LOCAL:C,LOG_PUT_LOCAL_ATTACHMENT:I,LOG_DELETE_LOCAL_ATTACHMENT:L,LOG_FALSE_CONFLICT:N,LOG_FALSE_CONFLICT_ATTACHMENT:j,LOG_SKIP_LOCAL_CREATION:348,LOG_SKIP_LOCAL_MODIFICATION:358,LOG_SKIP_LOCAL_DELETION:368,LOG_SKIP_REMOTE_CREATION:346,LOG_SKIP_REMOTE_MODIFICATION:356,LOG_SKIP_REMOTE_DELETION:366,LOG_SKIP_LOCAL_ATTACHMENT_CREATION:R,LOG_SKIP_LOCAL_ATTACHMENT_MODIFICATION:F,LOG_SKIP_LOCAL_ATTACHMENT_DELETION:U,LOG_SKIP_REMOTE_ATTACHMENT_CREATION:H,LOG_SKIP_REMOTE_ATTACHMENT_MODIFICATION:G,LOG_SKIP_REMOTE_ATTACHMENT_DELETION:W,LOG_SKIP_CONFLICT:V,LOG_SKIP_CONFLICT_ATTACHMENT:Q,LOG_NO_CHANGE:q,LOG_NO_CHANGE_ATTACHMENT:B,logConsole:function(t,e,n,r){if(this._log_console){var o,i=t,s=t;300<=s?(i+=" SKIP ",o=console.info):200<=s?(i+=" SOLVE ",o=console.log):100<=s?(i+=" FORCE ",o=console.warn):(i+=" ERROR ",o=console.error),80<=(s=t%100)?i+="idem ":70<=s?i+="conflict ":60<=s?i+="deleted ":50<=s?i+="modified ":40<=s?i+="created ":30<=s?i+="delete ":20<=s?i+="post ":10<=s&&(i+="put "),8<=(s=t%10)?i+="local ":6<=s&&(i+="remote "),0!==s&&(i+=s%2==0?"document":"attachment"),i+=" "+e,void 0!==n&&(i+=" "+n,void 0!==r&&(i+=" "+r)),o(i)}},log:function(t,e,n){void 0===e&&(void 0===n&&(n="Unknown type: "+e),e=w),e<this._log_level&&(void 0===n?(this.logConsole(e,t),this._list.push([e,t])):(this.logConsole(e,t,n),this._list.push([e,t,n])),e<100&&(this.has_error=!0))},logAttachment:function(t,e,n,r){void 0===n&&(void 0===r&&(r="Unknown type: "+n),n=w),n<this._log_level&&(void 0===r?(this.logConsole(n,t,e),this._list.push([n,t,e])):(this.logConsole(n,t,e,r),this._list.push([n,t,e,r])),n<100&&(this.has_error=!0))},toString:function(){return this._list.toString()}},(z.prototype=new Error).constructor=z,n.prototype.remove=function(t){if(t===this._signature_hash)throw new g.util.jIOError(this._signature_hash+" is frozen",403);return this._local_sub_storage.remove.apply(this._local_sub_storage,arguments)},n.prototype.post=function(){return this._local_sub_storage.post.apply(this._local_sub_storage,arguments)},n.prototype.put=function(t){if(t===this._signature_hash)throw new g.util.jIOError(this._signature_hash+" is frozen",403);return this._local_sub_storage.put.apply(this._local_sub_storage,arguments)},n.prototype.get=function(){return this._local_sub_storage.get.apply(this._local_sub_storage,arguments)},n.prototype.getAttachment=function(){return this._local_sub_storage.getAttachment.apply(this._local_sub_storage,arguments)},n.prototype.allAttachments=function(){return this._local_sub_storage.allAttachments.apply(this._local_sub_storage,arguments)},n.prototype.putAttachment=function(t){if(t===this._signature_hash)throw new g.util.jIOError(this._signature_hash+" is frozen",403);return this._local_sub_storage.putAttachment.apply(this._local_sub_storage,arguments)},n.prototype.removeAttachment=function(t){if(t===this._signature_hash)throw new g.util.jIOError(this._signature_hash+" is frozen",403);return this._local_sub_storage.removeAttachment.apply(this._local_sub_storage,arguments)},n.prototype.hasCapacity=function(){return this._local_sub_storage.hasCapacity.apply(this._local_sub_storage,arguments)},n.prototype.buildQuery=function(){return this._local_sub_storage.buildQuery.apply(this._local_sub_storage,arguments)},n.prototype.repair=function(){var i=this,t=arguments,e={},s={},n={},a=new r(this._log_level,this._log_console);return(new A.Queue).push(function(){if(!1===i._custom_signature_sub_storage)return e[i._signature_hash]=null,i._signature_sub_storage.__storage._sub_storage.__storage._sub_storage.get(i._signature_hash)}).push(void 0,function(t){if(t instanceof g.util.jIOError&&404===t.status_code)return i._signature_sub_storage.__storage._sub_storage.__storage._sub_storage.put(i._signature_hash,{});throw t}).push(function(){return A.all([i._local_sub_storage.repair.apply(i._local_sub_storage,t),i._remote_sub_storage.repair.apply(i._remote_sub_storage,t)])}).push(function(){if(i._check_local_modification||i._check_local_creation||i._check_local_deletion||i._check_remote_modification||i._check_remote_creation||i._check_remote_deletion)return i._signature_sub_storage.allDocs({select_list:["hash"]})}).push(function(t){return i._check_local_modification||i._check_local_creation||i._check_local_deletion?_t(i,e,s,n,"local","remote",i._local_sub_storage,i._remote_sub_storage,t,a,{use_post:i._use_remote_post,conflict_force:i._conflict_handling===u,conflict_revert:i._conflict_handling===c,conflict_ignore:i._conflict_handling===h,check_modification:i._check_local_modification,check_creation:i._check_local_creation,check_deletion:i._check_local_deletion,operation_amount:i._parallel_operation_amount,signature_hash_key:i._signature_hash_key,from_local:!0}).push(function(){return t}):t}).push(function(t){if(i._check_remote_modification||i._check_remote_creation||i._check_remote_deletion)return _t(i,e,s,n,"remote","local",i._remote_sub_storage,i._local_sub_storage,t,a,{use_revert_post:i._use_remote_post,conflict_force:i._conflict_handling===c,conflict_revert:i._conflict_handling===u,conflict_ignore:i._conflict_handling===h,check_modification:i._check_remote_modification,check_creation:i._check_remote_creation,check_deletion:i._check_remote_deletion,operation_amount:i._parallel_operation_amount,signature_hash_key:i._signature_hash_key,from_local:!1})}).push(function(){if(i._check_local_attachment_modification||i._check_local_attachment_creation||i._check_local_attachment_deletion||i._check_remote_attachment_modification||i._check_remote_attachment_creation||i._check_remote_attachment_deletion)return i._signature_sub_storage.allDocs({select_list:["hash","attachment_hash","from_local"]}).push(function(t){var e,n,r=[],o=t.data.total_rows;for(e=0;e<o;e+=1)n=t.data.rows[e],s.hasOwnProperty(n.id)||r.push([void 0,i,n.id,a,i._signature_hash_key,n.value.hash,n.value.attachment_hash,n.value.from_local,a]);return Z(i,dt,r,i._parallel_operation_amount)})}).push(function(){if(a.has_error)throw a;return a})},g.addStorage("replicate",n)}(jIO,RSVP,Rusha,jIO.util.stringify),function(t){"use strict";var e=new Rusha;function n(t){this._sub_storage=jIO.createJIO(t.sub_storage)}n.prototype.post=function(t){return this._sub_storage.put(e.digestFromString(JSON.stringify(t)),t)},n.prototype.get=function(){return this._sub_storage.get.apply(this._sub_storage,arguments)},n.prototype.remove=function(){return this._sub_storage.remove.apply(this._sub_storage,arguments)},n.prototype.hasCapacity=function(){return this._sub_storage.hasCapacity.apply(this._sub_storage,arguments)},n.prototype.buildQuery=function(){return this._sub_storage.buildQuery.apply(this._sub_storage,arguments)},n.prototype.getAttachment=function(){return this._sub_storage.getAttachment.apply(this._sub_storage,arguments)},n.prototype.putAttachment=function(){return this._sub_storage.putAttachment.apply(this._sub_storage,arguments)},n.prototype.removeAttachment=function(){return this._sub_storage.removeAttachment.apply(this._sub_storage,arguments)},n.prototype.allAttachments=function(){return this._sub_storage.allAttachments.apply(this._sub_storage,arguments)},n.prototype.repair=function(){return this._sub_storage.repair.apply(this._sub_storage,arguments)},jIO.addStorage("sha",n)}(),function(e){"use strict";function t(t){this._sub_storage=e.createJIO(t.sub_storage)}t.prototype.get=function(){return this._sub_storage.get.apply(this._sub_storage,arguments)},t.prototype.allAttachments=function(){return this._sub_storage.allAttachments.apply(this._sub_storage,arguments)},t.prototype.post=function(t){function e(){return("0000"+Math.floor(65536*Math.random()).toString(16)).slice(-4)}var n=e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e();return this.put(n,t)},t.prototype.put=function(){return this._sub_storage.put.apply(this._sub_storage,arguments)},t.prototype.remove=function(){return this._sub_storage.remove.apply(this._sub_storage,arguments)},t.prototype.getAttachment=function(){return this._sub_storage.getAttachment.apply(this._sub_storage,arguments)},t.prototype.putAttachment=function(){return this._sub_storage.putAttachment.apply(this._sub_storage,arguments)},t.prototype.removeAttachment=function(){return this._sub_storage.removeAttachment.apply(this._sub_storage,arguments)},t.prototype.repair=function(){return this._sub_storage.repair.apply(this._sub_storage,arguments)},t.prototype.hasCapacity=function(t){return this._sub_storage.hasCapacity(t)},t.prototype.buildQuery=function(){return this._sub_storage.buildQuery.apply(this._sub_storage,arguments)},e.addStorage("uuid",t)}(jIO),function(o,r,i){"use strict";function t(){this._database={}}t.prototype.put=function(t,e){return this._database.hasOwnProperty(t)||(this._database[t]={attachments:{}}),this._database[t].doc=r.stringify(e),t},t.prototype.get=function(e){try{return r.parse(this._database[e].doc)}catch(t){if(t instanceof TypeError)throw new o.util.jIOError("Cannot find document: "+e,404);throw t}},t.prototype.allAttachments=function(e){var t,n={};try{for(t in this._database[e].attachments)this._database[e].attachments.hasOwnProperty(t)&&(n[t]={})}catch(t){if(t instanceof TypeError)throw new o.util.jIOError("Cannot find document: "+e,404);throw t}return n},t.prototype.remove=function(t){return delete this._database[t],t},t.prototype.getAttachment=function(e,n){try{var t=this._database[e].attachments[n];if(void 0===t)throw new o.util.jIOError("Cannot find attachment: "+e+" , "+n,404);return o.util.dataURItoBlob(t)}catch(t){if(t instanceof TypeError)throw new o.util.jIOError("Cannot find attachment: "+e+" , "+n,404);throw t}},t.prototype.putAttachment=function(e,n,t){var r;try{r=this._database[e].attachments}catch(t){if(t instanceof TypeError)throw new o.util.jIOError("Cannot find document: "+e,404);throw t}return(new i.Queue).push(function(){return o.util.readBlobAsDataURL(t)}).push(function(t){r[n]=t.target.result})},t.prototype.removeAttachment=function(e,t){try{delete this._database[e].attachments[t]}catch(t){if(t instanceof TypeError)throw new o.util.jIOError("Cannot find document: "+e,404);throw t}},t.prototype.hasCapacity=function(t){return"list"===t||"include"===t},t.prototype.buildQuery=function(t){var e,n=[];for(e in this._database)this._database.hasOwnProperty(e)&&(!0===t.include_docs?n.push({id:e,value:{},doc:r.parse(this._database[e].doc)}):n.push({id:e,value:{}}));return n},o.addStorage("memory",t)}(jIO,JSON,RSVP),function(r,e,a){"use strict";function t(t){this._dom_parser=(new e).parseFromString(t,"text/xml")}function n(t){this._dom_parser=(new e).parseFromString(t,"text/xml")}function o(t){this._dom_parser=(new e).parseFromString(t,"text/xml")}t.prototype.parseHead=function(){var t,e,n=this._dom_parser.querySelector("opml > head"),r={};for(e=n.childNodes.length-1;0<=e;e-=1)(t=n.childNodes[e]).nodeType===a.ELEMENT_NODE&&(r[t.tagName]=t.textContent);return r},t.prototype.parseOutline=function(t,e,n,r,o){var i,s,a,u={};if((o===n||void 0===o)&&(t.push({id:n,value:{}}),r)){for(s=e.attributes.length-1;0<=s;s-=1)(i=e.attributes[s]).value&&(u[i.name]=i.value);t[t.length-1].doc=u}for(s=e.childNodes.length-1;0<=s;s-=1)"outline"===(a=e.childNodes[s]).tagName&&this.parseOutline(t,a,n+"/"+s,r,o)},t.prototype.getDocumentList=function(t,e){var n,r,o=this._dom_parser.querySelectorAll("body > outline");for("/0"===e||void 0===e?(n=[{id:"/0",value:{}}],t&&(n[0].doc=this.parseHead())):n=[],r=0;r<o.length;r+=1)this.parseOutline(n,o[r],"/1/"+r,t,e);return n},n.prototype.parseElement=function(t){var e,n,r,o,i,s={};for(n=t.childNodes.length-1;0<=n;n-=1)if((e=t.childNodes[n]).nodeType===a.ELEMENT_NODE&&"entry"!==e.tagName)for("link"===(o=e.tagName)?o+="_"+(e.getAttribute("rel")||"alternate"):s[o]=e.textContent,r=e.attributes.length-1;0<=r;r-=1)(i=e.attributes[r]).value&&(s[o+"_"+i.name]=i.value);return s},n.prototype.getDocumentList=function(t,e){var n,r,o=this._dom_parser.querySelectorAll("feed > entry");for("/0"===e||void 0===e?(n=[{id:"/0",value:{}}],t&&(n[0].doc=this.parseElement(this._dom_parser.querySelector("feed")))):n=[],r=0;r<o.length;r+=1)e!=="/0/"+r&&void 0!==e||(n.push({id:"/0/"+r,value:{}}),t&&(n[n.length-1].doc=this.parseElement(o[r])));return n},o.prototype.parseElement=function(t){var e,n,r,o,i={};for(n=t.childNodes.length-1;0<=n;n-=1)if((e=t.childNodes[n]).nodeType===a.ELEMENT_NODE&&"item"!==e.tagName)for(i[e.tagName]=e.textContent,r=e.attributes.length-1;0<=r;r-=1)(o=e.attributes[r]).value&&(i[e.tagName+"_"+o.name]=o.value);return i},o.prototype.getDocumentList=function(t,e){var n,r,o=this._dom_parser.querySelectorAll("rss > channel > item");for("/0"===e||void 0===e?(n=[{id:"/0",value:{}}],t&&(n[0].doc=this.parseElement(this._dom_parser.querySelector("rss > channel")))):n=[],r=0;r<o.length;r+=1)e!=="/0/"+r&&void 0!==e||(n.push({id:"/0/"+r,value:{}}),t&&(n[n.length-1].doc=this.parseElement(o[r])));return n};var i={rss:o,opml:t,atom:n};function s(e){return e._sub_storage.getAttachment(e._document_id,e._attachment_id,{format:"text"}).push(function(t){return new i[e._parser_name](t)})}function u(t){this._attachment_id=t.attachment_id,this._document_id=t.document_id,this._parser_name=t.parser,this._sub_storage=r.createJIO(t.sub_storage)}u.prototype.hasCapacity=function(t){return"list"===t||"include"===t},u.prototype.buildQuery=function(e){return void 0===e&&(e={}),s(this).push(function(t){return t.getDocumentList(e.include_docs||!1)})},u.prototype.get=function(n){return s(this).push(function(t){var e=t.getDocumentList(!0,n);if(e.length)return e[0].doc;throw new r.util.jIOError("Cannot find parsed document: "+n,404)})},r.addStorage("parser",u)}(jIO,DOMParser,Node),function(r,o,i){"use strict";function t(t){t.hasOwnProperty("catch_error")?this._catch_error=t.catch_error:this._catch_error=!1,this._timeout=t.timeout||0}t.prototype.get=function(e){var n=this;return(new o.Queue).push(function(){return r.util.ajax({type:"HEAD",url:e,timeout:n._timeout})}).push(void 0,function(t){if(n._catch_error)return t;if(void 0!==t.target&&404===t.target.status)throw new r.util.jIOError("Cannot find url "+e,404);throw t}).push(function(t){var e,n,r,o=["Content-Disposition","Content-Type","Date","Last-Modified","Vary","Cache-Control","Etag","Accept-Ranges","Content-Range"],i={};for(i.Status=t.target.status,e=0;e<o.length;e+=1)n=o[e],null!==(r=t.target.getResponseHeader(n))&&(i[n]=r);return i})},t.prototype.allAttachments=function(){return{enclosure:{}}},t.prototype.getAttachment=function(e,t){var n=this;if("enclosure"!==t)throw new r.util.jIOError("Forbidden attachment: "+e+" , "+t,400);return(new o.Queue).push(function(){return r.util.ajax({type:"GET",url:e,dataType:"blob",timeout:n._timeout})}).push(void 0,function(t){if(n._catch_error)return t;if(void 0!==t.target&&404===t.target.status)throw new r.util.jIOError("Cannot find url "+e,404);throw t}).push(function(t){return new i([t.target.response||t.target.responseText],{type:t.target.getResponseHeader("Content-Type")||"application/octet-stream"})})},r.addStorage("http",t)}(jIO,RSVP,Blob),function(c,h,e){"use strict";function r(t){return e.JIODate(new Date(t).toISOString())}function t(t){this._sub_storage=c.createJIO(t.sub_storage),this._key_schema={key_set:{},cast_lookup:{}},function(t,e){var n;for(n in e.schema)if(e.schema.hasOwnProperty(n)){if("string"!==e.schema[n].type||"date-time"!==e.schema[n].format)throw new c.util.jIOError("Wrong schema for property: "+n,400);t._key_schema.key_set[n]={read_from:n,cast_to:"dateType"},void 0===t._key_schema.cast_lookup.dateType&&(t._key_schema.cast_lookup.dateType=r)}}(this,t)}t.prototype.get=function(){return this._sub_storage.get.apply(this._sub_storage,arguments)},t.prototype.allAttachments=function(){return this._sub_storage.allAttachments.apply(this._sub_storage,arguments)},t.prototype.post=function(){return this._sub_storage.post.apply(this._sub_storage,arguments)},t.prototype.put=function(){return this._sub_storage.put.apply(this._sub_storage,arguments)},t.prototype.remove=function(){return this._sub_storage.remove.apply(this._sub_storage,arguments)},t.prototype.getAttachment=function(){return this._sub_storage.getAttachment.apply(this._sub_storage,arguments)},t.prototype.putAttachment=function(){return this._sub_storage.putAttachment.apply(this._sub_storage,arguments)},t.prototype.removeAttachment=function(){return this._sub_storage.removeAttachment.apply(this._sub_storage,arguments)},t.prototype.repair=function(){return this._sub_storage.repair.apply(this._sub_storage,arguments)},t.prototype.hasCapacity=function(t){return-1!==["limit","sort","select","query"].indexOf(t)||"list"===t&&this._sub_storage.hasCapacity(t)},t.prototype.buildQuery=function(i){var s=this._sub_storage,o=this,t={},a=!1,u=!1;if(s.hasCapacity("list")){try{void 0!==i.query&&!s.hasCapacity("query")||void 0!==i.sort_on&&!s.hasCapacity("sort")||void 0!==i.select_list&&!s.hasCapacity("select")||void 0!==i.limit&&!s.hasCapacity("limit")||(t.query=i.query,t.sort_on=i.sort_on,t.select_list=i.select_list,t.limit=i.limit)}catch(t){if(!(t instanceof c.util.jIOError&&501===t.status_code))throw t;a=!0}try{(a||!0===i.include_docs)&&s.hasCapacity("include")&&(t.include_docs=!0)}catch(t){if(!(t instanceof c.util.jIOError&&501===t.status_code))throw t;u=!0}return s.buildQuery(t).push(function(n){var t,e,r=[n];function o(t){var e=n[t].id;return s.get(e).push(function(t){return t._id=e,t},function(t){if(!(t instanceof c.util.jIOError&&404===t.status_code))throw t})}if(u){for(t=n.length,e=0;e<t;e+=1)r.push(o(e));n=h.all(r)}return n}).push(function(t){var e,n,r;if(u){for(n=(e=t[0]).length,r=0;r<n;r+=1)e[r].doc=t[r+1];t=e}return t}).push(function(t){var e,n,r=[];if(a){for(e=t.length,n=0;n<e;n+=1)t[n].doc.__id=t[n].id,r.push(t[n].doc);i.select_list&&i.select_list.push("__id"),t=c.QueryFactory.create(i.query||"",o._key_schema).exec(r,i)}return t}).push(function(t){var e,n,r,o=[];if(a){for(n=t.length,r=0;r<n;r+=1){if(e={id:t[r].__id,value:i.select_list?t[r]:{},doc:{}},i.select_list&&delete e.value.__id,i.include_docs)throw new Error("QueryStorage does not support include docs");o.push(e)}t=o}return t})}},c.addStorage("query",t)}(jIO,RSVP,jiodate),function(i,r,o){"use strict";function t(t){this._sub_storage=i.createJIO(t.sub_storage)}var s=".json",a="/.jio_documents/";t.prototype.get=function(e){var n=this;return(new r.Queue).push(function(){return n._sub_storage.getAttachment(a,e+s,{format:"json"})}).push(void 0,function(t){if(t instanceof i.util.jIOError&&404===t.status_code)return n._sub_storage.allAttachments("/").push(function(t){if(t.hasOwnProperty(e))return{};throw new i.util.jIOError("Cannot find document "+e,404)});throw t})},t.prototype.allAttachments=function(e){var n=this;return n._sub_storage.allAttachments("/").push(function(t){return t.hasOwnProperty(e)?{enclosure:{}}:n._sub_storage.getAttachment(a,e+s).push(function(){return{}},function(t){if(t instanceof i.util.jIOError&&404===t.status_code)throw new i.util.jIOError("Cannot find document "+e,404);throw t})})},t.prototype.put=function(e,n){var r=this;return r._sub_storage.putAttachment(a,e+s,new o([JSON.stringify(n)],{type:"application/json"})).push(void 0,function(t){if(t instanceof i.util.jIOError&&404===t.status_code)return r._sub_storage.put(a,{}).push(function(){return r._sub_storage.putAttachment(a,e+s,new o([JSON.stringify(n)],{type:"application/json"}))});throw t}).push(function(){return e})},t.prototype.remove=function(e){var t=this,n=!1;return(new r.Queue).push(function(){return t._sub_storage.removeAttachment("/",e)}).push(void 0,function(t){if(!(t instanceof i.util.jIOError&&404===t.status_code))throw t;n=!0}).push(function(){return t._sub_storage.removeAttachment(a,e+s)}).push(void 0,function(t){if(!n&&t instanceof i.util.jIOError&&404===t.status_code)return e;throw t})},t.prototype.hasCapacity=function(t){return"list"===t},t.prototype.buildQuery=function(){var o={},t=this;return(new r.Queue).push(function(){return t._sub_storage.allAttachments(a)}).push(function(t){var e,n,r;for(e in t)t.hasOwnProperty(e)&&(r=s,-1!==(n=e).indexOf(r,n.length-r.length)&&(o[e.substring(0,e.length-s.length)]=null))},function(t){if(!(t instanceof i.util.jIOError&&404===t.status_code))throw t}).push(function(){return t._sub_storage.allAttachments("/")}).push(function(t){var e;for(e in t)t.hasOwnProperty(e)&&(o[e]=null)}).push(function(){var t,e=[];for(t in o)o.hasOwnProperty(t)&&e.push({id:t,value:{}});return e})},t.prototype.getAttachment=function(t,e){if("enclosure"!==e)throw new i.util.jIOError("Only support 'enclosure' attachment",400);return this._sub_storage.getAttachment("/",t)},t.prototype.putAttachment=function(t,e,n){if("enclosure"!==e)throw new i.util.jIOError("Only support 'enclosure' attachment",400);return this._sub_storage.putAttachment("/",t,n)},t.prototype.removeAttachment=function(t,e){if("enclosure"!==e)throw new i.util.jIOError("Only support 'enclosure' attachment",400);return this._sub_storage.removeAttachment("/",t)},t.prototype.repair=function(){return this._sub_storage.repair.apply(this._sub_storage,arguments)},i.addStorage("drivetojiomapping",t)}(jIO,RSVP,Blob),function(e,n,c,r,o){"use strict";function t(t){this._sub_storage=e.createJIO(t.sub_storage),this._document_id=t.document_id,this._repair_attachment=t.repair_attachment||!1}var h=new RegExp("^jio_document/([\\w=]+).json$"),l=new RegExp("^jio_attachment/([\\w=]+)/([\\w=]+)$"),i=function(t){return window.btoa(r(encodeURIComponent(t)))},f=function(t){return decodeURIComponent(o(window.atob(t)))};function s(t,e){return void 0===e?"jio_document/"+i(t)+".json":"jio_attachment/"+i(t)+"/"+i(e)}t.prototype.get=function(t){return this._sub_storage.getAttachment(this._document_id,s(t),{format:"json"})},t.prototype.allAttachments=function(o){return this._sub_storage.allAttachments(this._document_id).push(function(t){var e,n,r={};for(n in t)if(t.hasOwnProperty(n)&&l.test(n)){e=l.exec(n);try{f(e[1])===o&&(r[f(e[2])]={})}catch(t){if(!t instanceof ReferenceError)throw t}}return r})},t.prototype.put=function(t,e){return this._sub_storage.putAttachment(this._document_id,s(t),new n([JSON.stringify(e)],{type:"application/json"})).push(function(){return t})},t.prototype.remove=function(r){var o=this;return this.allAttachments(r).push(function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(o.removeAttachment(r,e));return c.all(n)}).push(function(){return o._sub_storage.removeAttachment(o._document_id,s(r))}).push(function(){return r})},t.prototype.repair=function(){var u=this;return this._sub_storage.repair.apply(this._sub_storage,arguments).push(function(t){return u._repair_attachment?u._sub_storage.allAttachments(u._document_id).push(function(t){var e,n,r,o,i=[],s={},a={};for(o in t)if(t.hasOwnProperty(o))if(n=e=void 0,h.test(o)){try{e=f(h.exec(o)[1])}catch(t){if(!t instanceof ReferenceError)throw t}void 0!==e&&(s[e]=null)}else if(l.test(o)){r=l.exec(o);try{e=f(r[1]),n=f(r[2])}catch(t){if(!t instanceof ReferenceError)throw t}void 0!==n&&(s.hasOwnProperty(e)||(a.hasOwnProperty(e)||(a[e]={}),a[e][n]=null))}for(e in a)if(a.hasOwnProperty(e)&&!s.hasOwnProperty(e))for(n in a[e])a[e].hasOwnProperty(n)&&i.push(u.removeAttachment(e,n));return c.all(i)}):t})},t.prototype.hasCapacity=function(t){return"list"===t},t.prototype.buildQuery=function(){return this._sub_storage.allAttachments(this._document_id).push(function(t){var e,n=[];for(e in t)if(t.hasOwnProperty(e)&&h.test(e))try{n.push({id:f(h.exec(e)[1]),value:{}})}catch(t){if(!t instanceof ReferenceError)throw t}return n})},t.prototype.getAttachment=function(t,e){return this._sub_storage.getAttachment(this._document_id,s(t,e))},t.prototype.putAttachment=function(t,e,n){return this._sub_storage.putAttachment(this._document_id,s(t,e),n)},t.prototype.removeAttachment=function(t,e){return this._sub_storage.removeAttachment(this._document_id,s(t,e))},e.addStorage("document",t)}(jIO,Blob,RSVP,unescape,escape),function(o,e,n,i){"use strict";function t(t){!0===t.sessiononly?this._storage=e:this._storage=n}function s(t){if("/"!==t)throw new o.util.jIOError("id "+t+" is forbidden (!== /)",400)}t.prototype.get=function(t){return s(t),{}},t.prototype.allAttachments=function(t){s(t);var e,n={};for(e in this._storage)this._storage.hasOwnProperty(e)&&(n[e]={});return n},t.prototype.getAttachment=function(t,e){s(t);var n=this._storage.getItem(e);if(null===n)throw new o.util.jIOError("Cannot find attachment "+e,404);return o.util.dataURItoBlob(n)},t.prototype.putAttachment=function(t,e,n){var r=this;return s(t),(new i.Queue).push(function(){return o.util.readBlobAsDataURL(n)}).push(function(t){r._storage.setItem(e,t.target.result)})},t.prototype.removeAttachment=function(t,e){return s(t),this._storage.removeItem(e)},t.prototype.hasCapacity=function(t){return"list"===t},t.prototype.buildQuery=function(){return[{id:"/",value:{}}]},o.addStorage("local",t)}(jIO,sessionStorage,localStorage,RSVP),function(e,n,s){"use strict";function t(t){if("string"!=typeof t.path||!t.path)throw new TypeError("path must be a string which contains more than one character.");if("string"!=typeof t.repo||!t.repo)throw new TypeError("repo must be a string which contains more than one character.");this._href="https://api.github.com/repos",this._user="VoltEuropa",this._path=t.repo+"/contents/"+t.path,this._url=[this._href,this._user,this._path,"?ref=gh-pages"].join("/"),this.__debug=t.__debug}t.prototype.get=function(t){return(new n.Queue).push(function(){return e.util.ajax({type:"GET",url:t,dataType:"text"})}).push(function(t){return s.parse(t.target.response||t.target.responseText)},function(t){if(void 0!==t.target&&404===t.target.status)throw new e.util.jIOError("Cannot find document",404);throw t})},t.prototype.hasCapacity=function(t){return"list"===t},t.prototype.buildQuery=function(){var t=this.__debug||this._url;return(new n.Queue).push(function(){return e.util.ajax({type:"GET",url:t})}).push(function(t){var e,n,r,o=s.parse(t.target.response||t.target.responseText),i=[];for(r=0,n=o.length;r<n;r+=1)-1<(e=o[r]).path.indexOf(".json")&&i.push({id:e.download_url,value:{}});return i}).push(void 0,function(t){if(404===t.target.status)return[];throw t})},e.addStorage("volt_storage",t)}(jIO,RSVP,JSON);

